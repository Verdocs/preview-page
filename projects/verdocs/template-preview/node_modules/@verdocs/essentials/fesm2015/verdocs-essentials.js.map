{"version":3,"file":"verdocs-essentials.js","sources":["ng://@verdocs/essentials/lib/models/dynamic-field.model.ts","ng://@verdocs/essentials/lib/functions/viewer-fields.ts","ng://@verdocs/essentials/lib/functions/conversion.ts","ng://@verdocs/essentials/lib/functions/builder-fields.ts","ng://@verdocs/essentials/lib/functions/builder-page.ts","ng://@verdocs/essentials/lib/functions/filter.ts","ng://@verdocs/essentials/lib/functions/utils.ts","ng://@verdocs/essentials/lib/snackbar/snackbar.service.ts","ng://@verdocs/essentials/lib/builder/browser-to-iText.service.ts","ng://@verdocs/essentials/lib/builder/builder-data.service.ts","ng://@verdocs/essentials/lib/builder/builder-settings.service.ts","ng://@verdocs/essentials/lib/fields/conversion.service.ts","ng://@verdocs/essentials/lib/fields/envelope-signature.service.ts","ng://@verdocs/essentials/lib/fields/envelope-view.service.ts","ng://@verdocs/essentials/lib/fields/page.service.ts","ng://@verdocs/essentials/lib/modal/modal.service.ts","ng://@verdocs/essentials/lib/dialogs/error-dialogs/four-oh-one.dialog.ts","ng://@verdocs/essentials/lib/dialogs/plan-dialogs/plans-dialog.component.ts","ng://@verdocs/essentials/lib/error-dialogs/error-dialog.service.ts","ng://@verdocs/essentials/lib/guards/guard.service.ts","ng://@verdocs/essentials/lib/essentials.module.ts","ng://@verdocs/essentials/lib/account/account.service.ts"],"sourcesContent":["export class DynamicField<T> {\n  value: T;\n  key: string;\n  required: boolean;\n  order: number;\n  controlType: string;\n  validator: string;\n  maxLength: number;\n  showCounter: boolean;\n  url: string;\n  name: string;\n  prepared: boolean;\n  recipientRole: string;\n  options: any[];\n  field_name: string;\n  min_checked: number;\n  max_checked: number;\n  temp_sig: string;\n  sig_id: string;\n  temp_int: string;\n  int_id: string;\n  dirty: boolean;\n  full_name: string;\n\n  constructor(field_params: {\n    value?: T,\n    key?: string,\n    result?: string,\n    required?: boolean,\n    order?: number,\n    controlType?: string,\n    validator?: string,\n    maxLength?: number,\n    showCounter?: boolean,\n    url?: string,\n    name?: string,\n    prepared?: boolean,\n    recipientRole?: string,\n    options?: any[],\n    field_name?: string,\n    min_checked?: number,\n    max_checked?: number,\n    temp_sig?: string,\n    sig_id?: string,\n    temp_int?: string,\n    int_id?: string,\n    dirty?: boolean,\n    full_name?: string\n  } = {}) {\n    this.value = field_params.value;\n    this.key = field_params.key || '';\n    this.required = !!field_params.required;\n    this.order = field_params.order === undefined ? 1 : field_params.order;\n    this.controlType = field_params.controlType || '';\n    this.validator = field_params.validator === undefined ? '' : field_params.validator;\n    this.maxLength = field_params.maxLength == null ? null : field_params.maxLength;\n    this.showCounter = field_params.showCounter === false ? false : field_params.showCounter;\n    this.prepared = field_params.prepared;\n    this.recipientRole = field_params.recipientRole;\n    this.options = field_params.options;\n    this.field_name = field_params.field_name;\n    this.min_checked = field_params.min_checked;\n    this.max_checked = field_params.max_checked;\n    this.temp_sig = field_params.temp_sig;\n    this.sig_id = field_params.sig_id;\n    this.temp_int = field_params.temp_int;\n    this.int_id = field_params.int_id;\n    this.dirty = field_params.dirty;\n    this.full_name = field_params.full_name;\n    if (field_params.url) {\n      this.url = field_params.url;\n    }\n    if (field_params.name) {\n      this.name = field_params.name;\n    }\n  }\n}\n","import { DynamicField } from '../models/dynamic-field.model';\nimport { findIndex } from 'lodash';\n\nexport function buildFields(fields, mode) {\n  /*\n     * PDF 72 DPI\n     * Width: 612px\n     * Height: 792px\n     * */\n\n  const _fields = [];\n  let order = 0;\n  let role;\n  switch (mode) {\n    case 'signerview':\n    case 'prepareview':\n    case 'preview':\n      role = 'recipient_role';\n      break;\n    case 'liveview':\n      role = 'role_name';\n      break;\n    default:\n      role = 'recipient_role';\n      break;\n  }\n  let setting = 'setting';\n\n  for (const fieldIndex in fields) {\n    if (fields.hasOwnProperty(fieldIndex) && fields[fieldIndex]) {\n      const field = fields[fieldIndex];\n      let keyNameSuffix = '';\n      if (!!field['settings']) {\n        setting = 'settings'\n      };\n      switch (field.type.toLowerCase()) {\n        case 'attachment':\n        case 'payment':\n          field[setting]['width'] = 24;\n          field[setting]['height'] = 24;\n          break;\n        case 'checkbox':\n        case 'checkbox_group':\n        case 'radio_button_group':\n          field[setting]['width'] = 13.5;\n          field[setting]['height'] = 13.5;\n          keyNameSuffix = field['optionId'] ? '-' + field['optionId'] : '';\n          break;\n        case 'signature':\n          field[setting]['width'] = 82.63636363636;\n          field[setting]['height'] = 36;\n          break;\n        case 'initial':\n          field[setting]['width'] = 82.63636363636;\n          field[setting]['height'] = 36;\n          break;\n        default:\n          break;\n      }\n\n      const fieldValues = new DynamicField({\n        key: field.name + keyNameSuffix,\n        value: field[setting]['result'] || '',\n        required: field.required,\n        controlType: field.type,\n        order: order++,\n        validator: field.validator,\n        showCounter: false,\n        prepared: field.prepared || false,\n        recipientRole: field[role],\n        field_name: field.name,\n        dirty: false\n      });\n\n      switch (field.type) {\n        case 'attachment':\n          fieldValues.value = field[setting]['name'] ? field[setting]['name'] : '';\n          break;\n        case 'checkbox':\n          fieldValues.value = field[setting]['result'] === false ? false : true;\n          break;\n        case 'payment':\n          fieldValues.value = field[setting]['payment_id'] ? field[setting]['payment_id'] : '';\n          break;\n        case 'checkbox_group':\n          fieldValues.value = field[setting]['checked'];\n          if (field.required || field[setting]['maximum_checked'] > 0) {\n            fieldValues['min_checked'] = field[setting]['minimum_checked'];\n            fieldValues['max_checked'] = field[setting]['maximum_checked'];\n          }\n          break;\n        case 'radio_button_group':\n          fieldValues.value = field[setting]['selected'];\n          break;\n        case 'dropdown':\n          fieldValues.value = field[setting]['value'];\n          fieldValues['options'] = field[setting]['options'];\n          break;\n        default:\n          break;\n      };\n\n      if (field[setting]['url']) {\n        fieldValues['url'] = field[setting]['url'];\n        fieldValues['name'] = field[setting]['name'];\n        fieldValues['value'] = field[setting]['name'];\n      }\n\n      if (fields[fieldIndex]) {\n        _fields[fieldIndex] = fieldValues;\n      }\n    }\n  }\n  return _fields;\n}\n\nexport function getFieldsMap(fields, pageNum: number) {\n  let fieldsMap = {};\n  for (const fieldIndex in fields) {\n    if (fields.hasOwnProperty(fieldIndex) && fields[fieldIndex]) {\n      const field = fields[fieldIndex];\n      let keyNameSuffix = '';\n      switch (field.type.toLowerCase()) {\n        case 'checkbox':\n        case 'checkbox_group':\n        case 'radio_button_group':\n          keyNameSuffix = field['optionId'] ? '-' + field['optionId'] : '';\n          break;\n        default:\n          break;\n      }\n      fieldsMap[field.name + keyNameSuffix] = {\n        field_name: field.name,\n        keyNameSuffix: field['optionId'] ? '-' + field['optionId'] : null,\n        option_id: field['optionId'],\n        field_pageNum: pageNum,\n        field_field_index: fieldIndex\n      }\n    }\n  }\n  return fieldsMap;\n}\n\nexport function updateElementStyles(fields, _fields, mode, browserType) {\n  if (fields && _fields && fields.length === _fields.length) {\n    for (let x = 0; x < _fields.length; x++) {\n      let fieldIndex = findIndex(fields, { name: _fields[x].field_name });\n      if (fieldIndex >= 0) {\n        _fields[x]['initialStyle'] = getInputStyle(fields[fieldIndex], mode, browserType);\n        if (_fields[x].controlType.toLowerCase() === 'checkbox' || _fields[x].controlType.toLowerCase() === 'checkbox_group' || _fields[x].controlType.toLowerCase() === 'radio_button_group') {\n          _fields[x]['checkboxStyle'] = generateCheckboxLabel(fields[fieldIndex].required);\n        }\n      }\n    }\n  }\n  return _fields;\n}\n\nexport function getInputStyle(field, mode, browserType) {\n  const fontSize = 11;\n  let setting = 'setting';\n  if (!!field['settings']) {\n    setting = 'settings';\n  }\n  const inputStyle = {\n    'height': '100%',\n    'width': '100%',\n    'background': 'none'\n  };\n  if ((field[setting] && field[setting].font_size) || field.type === 'date' || field.type === 'signature' || field.type === 'initial' || field.type === 'timestamp') {\n    inputStyle['fontSize'] = fontSize + 'px';\n    inputStyle['letterSpacing'] = '.3px !important';\n  }\n\n  if (field.type === 'dropdown') {\n    inputStyle['fontSize'] = '10.8px';\n    delete inputStyle.background;\n  }\n\n  if (field.type === 'textbox') {\n    inputStyle['fontSize'] = fontSize + 'px';\n    inputStyle['letterSpacing'] = getLetterSpacing(browserType) + 'px';\n  }\n  if (field['required']) {\n    inputStyle['border'] = '1px solid #cc0000';\n  }\n  if (field['prepared'] && field['prepared'] === true && mode !== 'prepareview') {\n    inputStyle['visibility'] = 'hidden';\n  }\n  if (field[setting] && field[setting].color) {\n    inputStyle['color'] = field[setting].color;\n  }\n  if (field[setting] && field[setting].upperCase) {\n    inputStyle['textTransform'] = 'uppercase';\n  }\n\n  if (field[setting] && field[setting].leading > 0) {\n    inputStyle['lineHeight'] = `${rescale(1, field[setting].leading + .5)}px`;\n  } else if (field.leading && field.leading > 0) {\n    inputStyle['lineHeight'] = `${rescale(1, field.leading + .5)}px`;\n  }\n\n  return inputStyle;\n}\n\nexport function generateCheckboxLabel(required) {\n  const labelStyle = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    cursor: 'pointer',\n    height: `13.5px`,\n    width: `13.5px`,\n    backgroundColor: 'transparent',\n    border: '1px solid #777'\n  }\n  if (required === true) {\n    labelStyle['boxShadow'] = '0 0 0 1px #cc0000';\n  }\n  return labelStyle;\n};\n\nexport function getLetterSpacing(browserType) {\n  switch (browserType) {\n    case 'opera':\n      return -0.0018;\n    case 'firefox':\n      return -0.23594210526315787;\n    case 'ie':\n      return -0.0019;\n    case 'edge':\n      return -0.0019;\n    case 'chrome':\n      return -0.0018;\n    case 'safari':\n      return -0.0018;\n    case 'blink':\n      return -0.0018;\n    default:\n      return -0.0018;\n  }\n}\n\nexport function rescale(r, n): number {\n  return r * n;\n}\n\nexport function prepareFieldsForSigner(fields) {\n  let fieldsForCurrentSigner = new Array(fields.length);\n}\n","export function getDefaultHeight(field) {\n  let height = 0;\n  switch (field.type) {\n    case 'signature':\n    case 'initial':\n      height = 36;\n      break;\n    case 'checkbox':\n    case 'checkbox_group':\n    case 'radio_button_group':\n      height = 13.5;\n      break;\n    case 'attachment':\n    case 'payment':\n      height = 24;\n      break;\n    default:\n      height = field.setting['height'] || 0;\n      break;\n  }\n  return height;\n}\n\nexport function getDefaultWidth(field) {\n  let width = 0;\n  switch (field.type) {\n    case 'signature':\n    case 'initial':\n      width = 82.63636363636;\n      break;\n    case 'checkbox':\n    case 'checkbox_group':\n    case 'radio_button_group':\n      width = 13.5;\n      break;\n    case 'attachment':\n    case 'payment':\n      width = 24;\n      break;\n    case 'date':\n      width = 64;\n      break;\n    case 'dropdown':\n      width = field.setting['width'] || 64;\n      break;\n    default:\n      width = field.setting['width'] || 0;\n      break;\n  }\n  return width;\n}\n\nexport function getRTop(y, fieldHeight, iTextHeight, yRatio) {\n  return iTextHeight - ((y + fieldHeight) * yRatio);\n}\n\nexport function getRLeft(x, ratio) {\n  return x * ratio;\n}\n\nexport function getRValue(y, ratio) {\n  return y * ratio;\n}\n\nexport function getUIFieldStyling(field) {\n  const height = getDefaultHeight(field);\n  const style = {\n    left: field.setting.x + 'px',\n    bottom: field.setting.y + 'px',\n    height: '100%',\n    width: '100%'\n  };\n\n  switch (field.type) {\n    case 'textbox':\n    case 'date':\n    case 'timestamp':\n    case 'placeholder':\n    case 'dropdown':\n      style['maxHeight'] = height + 'px';\n      style['maxWidth'] = field.setting.width + 'px';\n      break;\n    case 'checkbox':\n    case 'checkbox_group':\n    case 'radio_button_group':\n      style['maxHeight'] = 13.5 + 'px';\n      style['maxWidth'] = 13.5 + 'px';\n      break;\n    case 'attachment':\n    case 'payment':\n      style['maxHeight'] = 24 + 'px';\n      style['maxWidth'] = 24 + 'px';\n      break;\n    case 'signature':\n    case 'initial':\n      style['maxHeight'] = 36 + 'px';\n      style['maxWidth'] = 82.63636363636 + 'px';\n      style['line-height'] = 36 + 'px';\n      break;\n    default:\n      break;\n  }\n  return style;\n}\nexport function blobToBase64(image: Blob) {\n  const fileReader = new FileReader();\n  return new Promise((resolve, reject) => {\n    fileReader.onerror = () => {\n      reject(new DOMException(\"Problem reading blob.\"));\n    }\n\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    }\n\n    fileReader.readAsDataURL(image);\n  })\n}\n","import { getRGBA, nameToRGBA } from '@verdocs/sdk';\nimport { findIndex } from 'lodash';\nimport { getLetterSpacing } from './viewer-fields';\nimport { getUIFieldStyling } from './conversion';\n\nexport function setRatio(pages, pdfPages) {\n  for (let i = 0; i < pages.length; i++) {\n    for (let j = 0; j < pages[i].fields.length; j++) {\n      if (pages[i].fields[j]) {\n        pages[i].fields[j]['ratio'] = {\n          x: pdfPages[i].xRatio,\n          y: pdfPages[i].yRatio\n        };\n      }\n    }\n  }\n  return pages;\n}\n\nexport function constructPages(pages, roles, pdfPages, browserType) {\n  if (pages && pages.length > 0) {\n    let fieldPages = new Array(pages.length);\n    for (let i = 0; i < pages.length; i++) {\n      fieldPages[i] = { fields: [] }\n      for (let j = 0; j < pages[i].fields.length; j++) {\n        if (pages[i].fields[j]['setting'] && pages[i].fields[j]['setting']['options'] &&\n          pages[i].fields[j]['setting']['options'].length > 0 && (pages[i].fields[j]['type'] === 'checkbox_group') ||\n          pages[i].fields[j]['type'] === 'radio_button_group') {\n          const groupFields = constructGroupFields(pages, i, j, roles, pdfPages, fieldPages, browserType);\n          fieldPages[i].fields.concat(groupFields);\n        } else {\n          const fieldCopy = { ...pages[i].fields[j] };\n          const copyIndex = findIndex(fieldPages[i].fields, { name: fieldCopy.name });\n          fieldCopy['originalIndex'] = j;\n          if (fieldCopy.type !== 'checkbox_group' && fieldCopy.type !== 'radio_button_group') {\n            fieldCopy['initialStyle'] = generateInitialStyle(fieldCopy, roles, browserType);\n            fieldCopy['style'] = generateStyle(fieldCopy, pdfPages);\n          }\n          if (fieldCopy.type === 'checkbox' || fieldCopy.type === 'checkbox_group' || fieldCopy.type === 'radio_button_group') {\n            fieldCopy['checkboxStyle'] = generateGroupLabel(i, fieldCopy.role_name, roles, pdfPages);\n          }\n          if (copyIndex < 0) {\n            fieldPages[i].fields[fieldPages[i].fields.length] = fieldCopy;\n          }\n        }\n      }\n    }\n    return fieldPages;\n  } else {\n    return [];\n  }\n}\n\nexport function constructGroupFields(pages, i, j, roles, pdfPages, fieldPages, browserType) {\n  let k = 0;\n  const optionsLength = pages[i].fields[j]['setting']['options'].length\n  while (k < optionsLength) {\n    const fieldCopy = { ...pages[i].fields[j] };\n    const options = pages[i].fields[j]['setting']['options'][k];\n    fieldCopy.setting['x'] = options.x;\n    fieldCopy.setting['y'] = options.y;\n    if (fieldCopy.type === 'checkbox_group') {\n      fieldCopy.setting['checked'] = options.checked;\n    } else {\n      fieldCopy.setting['selected'] = options.selected;\n    }\n    fieldCopy['initialStyle'] = generateInitialStyle(fieldCopy, roles, browserType);\n    fieldCopy['style'] = generateStyle(fieldCopy, pdfPages);\n    fieldCopy['checkboxStyle'] = generateGroupLabel(i, fieldCopy.role_name, roles, pdfPages);\n    fieldCopy['originalIndex'] = j;\n    fieldCopy['optionIndex'] = k;\n    fieldCopy['optionId'] = options.id;\n    const copyIndex = findIndex(fieldPages[i].fields, { optionIndex: fieldCopy.optionIndex, name: fieldCopy.name });\n    if (copyIndex < 0) {\n      fieldPages[i].fields[fieldPages[i].fields.length] = fieldCopy;\n    }\n    k++;\n  }\n  return fieldPages;\n}\n\nexport function generateInitialStyle(field, roles, browserType) {\n  const fontSize = 9.5;\n  const setting = field.setting;\n  const role_name = field.role_name;\n  const initialStyle = {\n    height: '100%',\n    width: '100%',\n    backgroundColor: getRoleColor(role_name, roles),\n    letterSpacing: null,\n    fontSize: null\n  };\n  field['initialStyle'] = initialStyle;\n  switch (field.type) {\n    case 'textbox':\n    case 'textarea':\n      field['initialStyle']['letterSpacing'] = convertToUIRatio(getLetterSpacing(browserType), field['ratio'].x) + 'px';\n    case 'signature':\n    case 'initial':\n    case 'date':\n    case 'dropdown':\n      field['initialStyle']['fontSize'] = convertToUIRatio(fontSize, field['ratio'].x) + 'px';\n      break;\n    case 'timestamp':\n        field['initialStyle']['fontSize'] = convertToUIRatio(8.5, field['ratio'].x) + 'px';\n      break;\n    case 'attachment':\n    case 'payment':\n      field['initialStyle']['height'] = '24px';\n      field['initialStyle']['mat-icon'] = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        height: '24px',\n        width: '24px',\n        lineHeight: '24px',\n        fontSize: '18px'\n      }\n      break;\n    default:\n      break;\n  }\n\n  if (setting.leading && setting.leading > 0) {\n    field.initialStyle['line-height'] = convertToUIRatio(setting.leading + .11395, field['ratio'].y) + 'px';\n  }\n  return field.initialStyle;\n}\n\nexport function generateStyle(field, pdfPages) {\n  return getUIFieldStyling(field);\n}\n\nexport function generateGroupLabel(i, role_name, roles, pdfPages) {\n  return {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    height: '13.5px',\n    width: '13.5px',\n    backgroundColor: getRoleColor(role_name, roles),\n    border: '2px solid #777'\n  }\n}\n\nexport function getRoleColor(name, roles, index?) {\n  if (index) {\n    return getRGBA(index);\n  } else if (roles && roles.length > 0) {\n    index = findIndex(roles, { name: name });\n    if (index >= 0) {\n      return roles[index].rgba ? roles[index].rgba : getRGBA(index);\n    } else {\n      return nameToRGBA(name);\n    }\n  } else {\n    return nameToRGBA(name);\n  }\n}\n\nexport function convertToUIRatio(value: number, ratio) {\n  return value * ratio;\n}\n","export function isInView(scrollTop, pageTop, pageHeight) {\n  if (typeof scrollTop === 'undefined') {\n    return null\n  }\n  if (window) {\n    let headerHeight = 112;\n    const viewportWidth = window.innerWidth;\n    if (viewportWidth > 600) {\n      headerHeight = 128;\n    }\n    const viewportHeight = window.innerHeight - headerHeight;\n    return topOfPageIsInView(scrollTop, pageTop, viewportHeight) ||\n      middleOfPageIsInView(scrollTop, pageTop, pageHeight, viewportHeight) ||\n      bottomOfPageIsInView(scrollTop, pageTop, pageHeight, viewportHeight);\n  }\n}\n\nexport function topOfPageIsInView(scrollTop, pageTop, viewportHeight): boolean {\n  return pageTop > scrollTop && pageTop < scrollTop + viewportHeight\n}\n\nexport function middleOfPageIsInView(scrollTop, pageTop, pageHeight, viewportHeight): boolean {\n  const viewportBottom = scrollTop + viewportHeight;\n  const pageBottom = pageTop + pageHeight\n  return scrollTop > pageTop && viewportBottom < pageBottom;\n}\n\nexport function bottomOfPageIsInView(scrollTop, pageTop, pageHeight, viewportHeight): boolean {\n  const viewportBottom = scrollTop + viewportHeight;\n  const pageBottom = pageTop + pageHeight\n  return viewportBottom > pageBottom && scrollTop < pageBottom;\n}","import { ITimePeriod } from '@verdocs/sdk';\n\nexport function timePeriod(type): ITimePeriod {\n  let endDate = new Date().getTime();\n    const today = new Date();\n    const month = today.getMonth();\n    const year = today.getFullYear();\n    let startDate = null;\n    switch (type) {\n      case '30d':\n        startDate = endDate - (60 * 60 * 24 * 30 * 1000);\n        break;\n      case '60d':\n        startDate = endDate - (60 * 60 * 24 * 60 * 1000);\n        break;\n      case '6m':\n        startDate = endDate - (60 * 60 * 24 * 30 * 6 * 1000);\n        break;\n      case 'this_month':\n        startDate = new Date(year, month, 1).getTime();\n        break;\n      case 'last_month':\n        startDate = new Date(year, month - 1, 1).getTime();\n        endDate = new Date(year, month, 0).getTime();\n        break;\n      case 'this_year':\n        startDate = new Date(year, 0, 1);\n        break;\n      case 'all_time':\n        startDate = null;\n        endDate = null;\n        break;\n      default:\n        startDate = null;\n        endDate = null;\n        break;\n    }\n\n    if (startDate == null && endDate == null) {\n      return null;\n    }\n    return {\n      start_time: new Date(startDate).toISOString(),\n      end_time: new Date(endDate).toISOString()\n    } as ITimePeriod;\n}","import printJS from 'print-js';\n\n\nexport function regParse(string: string) {\n  return JSON.parse(string, function (key, value) {\n    let prefix;\n    if (typeof value !== 'string') {\n      return value;\n    }\n    if (value.length < 8) {\n      return value;\n    }\n    prefix = value.substring(0, 8);\n\n    if (prefix === 'function') {\n      return eval('(' + value + ')');\n    }\n    if (prefix === '_PxEgEr_') {\n      return eval(value.slice(8));\n    }\n    if (prefix === '_NuFrRa_') {\n      return eval(value.slice(8));\n    }\n    return value;\n  });\n}\n\nexport function dataURLtoBlob(dataUrl, type: string = 'image/png') {\n  const arr = dataUrl.split(','),\n    // mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]);\n    let n = bstr.length;\n  const u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], { type: type });\n}\n\nexport function printPdfUrl(pdfUrl) {\n  if (typeof (pdfUrl) === 'string') {\n    printJS(pdfUrl);\n  } else {\n    console.error('pdfUrl should be provided, instead received: ', pdfUrl );\n  }\n}\n","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarRef } from '@angular/material/snack-bar';\n\n@Injectable()\nexport class SnackbarService {\n  constructor(\n    private snackbar: MatSnackBar,\n    @Inject(PLATFORM_ID) private platform\n  ) { }\n\n  initConfig(duration?: number, position?: 'bottom' | 'top'): MatSnackBarConfig {\n    if ((isPlatformBrowser(this.platform))) {\n      let snackbarConfig: MatSnackBarConfig\n      if (window && window.innerWidth >= 920) {\n        snackbarConfig = {\n          verticalPosition: position ? position : 'bottom',\n          horizontalPosition: 'left',\n          duration: duration ? duration : 5000\n        }\n      } else {\n        snackbarConfig = {\n          verticalPosition: position ? position : 'top',\n          duration: duration ? duration : 5000\n        }\n      }\n\n      return snackbarConfig;\n    }\n  }\n\n  open(message: string, action?, config?): MatSnackBarRef<any> {\n    return this.snackbar.open(message, action ? action : undefined, config ? config : this.initConfig());\n  }\n\n  dismiss(): void {\n    this.snackbar.dismiss();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class BrowserToiTextService {\n  detectBrowser() {\n    //noinspection TypeScriptUnresolvedVariable\n    let isFirefox = false;\n    if ('InstallTrigger' in window) {\n      isFirefox = true;\n    }\n\n    const isOpera = (!!window['opr'] && !!window['opr'].addons) || !!window['opera'] || navigator.userAgent.indexOf(' OPR/') >= 0;\n\n    const isSafari = /constructor/i.test(window['HTMLElement']) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!window['safari'] || (window['safari'] && window['safari'].pushNotification));\n\n    const isIE = /*@cc_on!@*/false || !!document['documentMode'];\n\n    const isEdge = !isIE && !!window['StyleMedia'];\n\n    const isChrome = !!window['chrome'] && !!window['chrome'].webstore;\n\n    const isBlink = (isChrome || isOpera) && !!window['CSS'];\n\n\n    if (isOpera) {\n      return 'opera';\n    } else if (isFirefox) {\n      return 'firefox';\n    } else if (isIE) {\n      return 'ie';\n    } else if (isEdge) {\n      return 'edge';\n    } else if (isChrome) {\n      return 'chrome';\n    } else if (isBlink) {\n      return 'blink'\n    } else if (isSafari) {\n      return 'safari'\n    }\n    return 'unknown';\n  }\n\n  getLetterSpacing() {\n    const browserType = this.detectBrowser();\n    switch (browserType) {\n      case 'opera':\n        return -0.0018;\n      case 'firefox':\n        return -0.23594210526315787;\n      case 'ie':\n        return -0.0019;\n      case 'edge':\n        return -0.0019;\n      case 'chrome':\n        return -0.0018;\n      case 'safari':\n        return -0.0018;\n      case 'blink':\n        return -0.0018;\n      default:\n        return -0.0018;\n    }\n  }\n}\n","\nimport { Injectable, Injector } from '@angular/core';\nimport { HttpClient, HttpRequest } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { \n  TemplatesService,\n  ITemplate,\n  ITemplateDocument,\n  IPage,\n  IRole,\n  IField,\n  OptionType,\n  FieldRole,\n  TemplatesGuardService,\n  TemplateActions\n} from '@verdocs/sdk';\n// import { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { throwError as observableThrowError, ReplaySubject, Observable, from, forkJoin, Subject, of } from 'rxjs';\nimport { catchError, map, delay, mergeMap } from 'rxjs/operators';\nimport { filter } from 'lodash';\nimport { findIndex, remove } from 'lodash';\n\nimport { nameToRGBA, getRGBA } from '@verdocs/sdk';\nimport { SnackbarService } from '../snackbar/snackbar.service';\nimport { EventTrackerService } from '@verdocs/event-tracker';\n\nimport { EssentialsConfig, EssentialsConfigToken } from '../essentials.module';\n\n@Injectable()\nexport class BuilderDataService {\n  private _config_token: EssentialsConfig;\n  private recipients = [];\n  private template;\n  private templateDoc;\n  private templatePages;\n  private templateName: string;\n  private activeFieldIndex: any;\n  private roles: IRole[] = [];\n  private templateSubject: ReplaySubject<ITemplate> = new ReplaySubject<ITemplate>(1, 500);\n  private templateId: string;\n  private hasFields = false;\n  private rForm_backend_url: string;\n\n  public templateNameSubject: ReplaySubject<string> = new ReplaySubject<string>(1, 500);\n  public templatePagesSubject: ReplaySubject<number> = new ReplaySubject<number>(1, 500);\n  public recipientsSubject: ReplaySubject<IRole[]> = new ReplaySubject<IRole[]>();\n  public activeRecipientSubject: ReplaySubject<IRole> = new ReplaySubject<IRole>();\n  public scrollInfoSubject: ReplaySubject<any> = new ReplaySubject<any>();\n  public screenInfoSubject: ReplaySubject<any> = new ReplaySubject<any>();\n  public newTypeSubject: Subject<string | null> = new Subject<string | null>();\n  public newOptionSubject: ReplaySubject<OptionType> = new ReplaySubject<OptionType>(1, 100);\n  public duplicateFieldSubject: ReplaySubject<IField> = new ReplaySubject<IField>();\n  public saveStatusSubject: ReplaySubject<string> = new ReplaySubject<string>();\n  public renderedSubject: ReplaySubject<string> = new ReplaySubject<string>();\n  public activeFieldIndexSubject: ReplaySubject<any> = new ReplaySubject<any>(1, 100);\n  public numberOfRolesSubject: ReplaySubject<number> = new ReplaySubject<number>();\n  public numberOfSequenceSubject: ReplaySubject<number> = new ReplaySubject<number>();\n  public hasFieldsSubject: ReplaySubject<boolean> = new ReplaySubject<boolean>();\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private templatesService: TemplatesService,\n    // private snackbar: MatSnackBar,\n    private templateGuard: TemplatesGuardService,\n    private snackbarService: SnackbarService,\n    private eventTracker: EventTrackerService,\n    private injector: Injector\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n    this.rForm_backend_url = this._config_token.rForm_backend_url;\n    /* Use NGRX to do the subscriptions */\n    this.templateSubject.subscribe(template => {\n      this.template = template;\n      if (template && template.name) {\n        this.templateNameSubject.next(template.name);\n      }\n    });\n    this.templateNameSubject.subscribe(name => {\n      this.templateName = name;\n    });\n    /* Remove above after refactoring */\n  }\n\n  createTemplate(template_body: ITemplate): Observable<ITemplate> {\n    return this.http\n      .post<ITemplate>(this.rForm_backend_url + '/templates', template_body)\n      .pipe(\n        map((res) => {\n          this.templateSubject.next(res);\n          this.recipientsSubject.next([]);\n          return res;\n        })\n      );\n  }\n\n  updateLocalTemplateData() {\n    this.templateName = this.template.name;\n    this.templateNameSubject.next(this.templateName);\n    this.templatePages = this.template.pages.length;\n    this.templatePagesSubject.next(this.templatePages);\n  }\n\n  updateTemplate(template_body: ITemplate) {\n    return this.templatesService.updateTemplateObservable(template_body.id, template_body).pipe(\n      map(template => template)\n    );\n  }\n\n  updateTemplateName(template, name) {\n    if (template && template.id) {\n      return this.templatesService.updateTemplateObservable(template.id, { name: name })\n        .pipe(\n          map(res => {\n            template.name = res.name;\n            this.updateLocalTemplate(template);\n            this.saveStatusSubject.next('saved');\n            this.createSnackBar('Name Changed to: ' + name);\n            return res.name;\n          },\n            err => {\n              this.saveStatusSubject.next('Failed to save');\n              this.createSnackBar('Failed to change Template name');\n              return err;\n            })\n        )\n    } else {\n      this.templateNameSubject.next(name);\n      this.saveStatusSubject.next('Name will be updated');\n    }\n  }\n\n  getTemplateObservable(templateId: string): Observable<ITemplate> {\n    return this.templatesService.getTemplateObservable(templateId);\n  }\n\n  getTemplate(templateId: string) {\n    return this.templatesService.getTemplate(templateId).toPromise().then(template => {\n      this.updateLocalTemplate(template);\n      this.recipients = this.sortRoles(this.template);\n      this.template.roles = this.recipients;\n      this.roles = this.recipients;\n      this.recipientsSubject.next(this.recipients);\n      this.activeRecipientSubject.next(this.recipients[0]);\n      return this.template;\n    })\n  }\n\n  watchForUpdatedTemplate() {\n    return this.templateSubject.pipe(map(template => template));\n  }\n\n  updateLocalTemplate(template) {\n    if (template) {\n      this.template = template;\n      if (this.template && this.template.pages) {\n        this.template.pages = this.template.pages.sort((a, b) => {\n          return a.sequence - b.sequence;\n        });\n      }\n      if (this.template) {\n        this.updateLocalTemplateData();\n        this.checkForFields(this.template.roles);\n      }\n      this.recipientsSubject.next(this.template.roles.sort((a, b) => {\n        return a.sequence - b.sequence;\n      }));\n      this.templateSubject.next(this.template);\n    } else {\n      this.templateNameSubject.next(null);\n      this.templatePagesSubject.next(null);\n      this.numberOfRolesSubject.next(null);\n      this.numberOfSequenceSubject.next(null);\n      this.hasFieldsSubject.next(false);\n    }\n  }\n\n  uploadTemplateDocument(file: File, template: ITemplate) {\n    const formdata = new FormData();\n    formdata.append('document', file, file.name);\n    const req = new HttpRequest('POST', this.rForm_backend_url+ '/templates/' + template.id + '/documents', formdata, {\n      reportProgress: true\n    });\n    return this.http.request(req)\n      .pipe(\n        map(res => res),\n        catchError(err => {\n          return observableThrowError(err);\n        })\n      )\n  }\n\n  getTemplateDocument(templateId) {\n    this.templateDoc = this.templatesService.getAllTemplateDocumentsObservable(templateId).pipe(\n      map((docs: Array<ITemplateDocument>) => {\n        this.templateDoc = docs[0];\n        return this.templateDoc\n      })\n    );\n\n    return this.templateDoc;\n  }\n\n  getTemplateDocumentFile(templateId, templateDoc) {\n    if (templateId && templateDoc) {\n      return this.templatesService.getTemplateDocumentPDFObservable(templateId, templateDoc).pipe(\n        map(pdf => {\n          const pdfUrl = URL.createObjectURL(pdf);\n          return pdfUrl;\n        }))\n    }\n  }\n\n  setTemplateDocument(templateDocument) {\n    this.templateDoc = templateDocument;\n  }\n\n  addTemplatePage(document, pageNum, templateId) {\n    const body = {\n      sequence: pageNum,\n      page_number: pageNum,\n      document_id: document.id\n    }\n    return this.http.post<IPage>(this.rForm_backend_url+ `/templates/${templateId}/pages`, body)\n      .pipe(\n        map((res: IPage) => res),\n        catchError(err => {\n          return observableThrowError(err);\n        })\n      )\n  }\n\n  addTemplatePages(document, pageNums: number[], templateId: string) {\n    return from(pageNums)\n      .pipe(\n        mergeMap(pageNum => {\n          const page = {\n            sequence: pageNum,\n            page_number: pageNum,\n            document_id: document.id\n          };\n          return <Observable<IPage>>this.http.post(this.rForm_backend_url+ `/templates/${templateId}/pages`, page).pipe(delay(200));\n        })\n      )\n  }\n\n  deleteTemplateField(template: ITemplate, fieldName: string, i, j): Observable<ITemplate> {\n    return this.http\n      .delete<void>(this.rForm_backend_url+ '/templates/' + template.id + '/fields/' + fieldName.trim())\n      .pipe(\n        map(field => {\n          const fieldIndex = findIndex(template.pages[i].fields, { name: fieldName });\n          const roleIndex = findIndex(template.roles, { name: template.pages[i].fields[fieldIndex].role_name });\n\n          if (roleIndex > -1) {\n            const roleFieldIndex = findIndex(template.roles[roleIndex].fields, { name: fieldName });\n            if (roleFieldIndex > -1) {\n              template.roles[roleIndex].fields.splice(roleFieldIndex, 1);\n            }\n          }\n          template.pages[i].fields.splice(fieldIndex, 1);\n          this.updateLocalTemplate(template);\n          this.saveStatusSubject.next('saved');\n          this.checkForFields(template.roles);\n          return template;\n        })\n      );\n  }\n\n  deleteTemplateFields(fieldNames: string[], template: ITemplate) {\n    if (fieldNames && fieldNames.length > 0) {\n      const pages = template.pages;\n      for (const fieldName of fieldNames) {\n        for (let x = 0; x < pages.length; x++) {\n          const fieldIndex = findIndex(pages[x].fields, { name: fieldName });\n          if (fieldIndex >= 0) {\n            template.pages[x].fields.splice(fieldIndex, 1);\n          }\n        }\n      }\n      this.checkForFields(template.roles);\n    }\n  }\n\n  addTemplateField(newField: IField, i, j, template: ITemplate): Observable<ITemplate> {\n    newField.name = newField.name.trim();\n    return this.http\n      .post<IField>(this.rForm_backend_url+ '/templates/' + newField.template_id + '/fields', newField)\n      .pipe(\n        map(field => {\n          this.eventTracker.createEvent({\n            category: 'document',\n            action: `document ${field.type} field added`,\n            label: `document id: ${newField.template_id}`\n          });\n          template.pages[i].fields[j] = field;\n          this.checkForFields(template.roles);\n          const roleIndex = findIndex(template.roles, { name: field.role_name });\n          if (roleIndex >= 0) {\n            template.roles[roleIndex]['fields'].push(field);\n          }\n          this.templateSubject.next(template);\n          return template;\n        })\n      );\n  }\n\n  getTemplateOwnerInfo(id: string): Promise<{ profile_id: string, email: string, name: string }> {\n    return this.templatesService.getTemplateOwnerInfo(id);\n  }\n\n  updateTemplateField(template: ITemplate, body: IField, oldName, i, j): Observable<ITemplate> {\n    oldName = oldName.trim();\n    return this.http\n      .put<IField>(this.rForm_backend_url+ '/templates/' + template.id + '/fields/' + oldName, body)\n      .pipe(\n        map(field => {\n          this.eventTracker.createEvent({\n            category: 'document',\n            action: `document ${field.type} field updated`,\n            label: `document id: ${template.id}`\n          });\n          const fieldIndex = findIndex(template.pages[i].fields, { name: oldName });\n          if (field.page_sequence - 1 !== i) {\n            template.pages[i].fields.splice(fieldIndex, 1);\n            template.pages[field.page_sequence - 1].fields.push(field);\n          } else {\n            template.pages[i].fields[fieldIndex] = field;\n          }\n          const roleIndex = findIndex(template.roles, { name: field.role_name });\n          if (roleIndex >= 0) {\n            template = this.updateRoleField(template, field, roleIndex, oldName);\n          }\n          this.templateSubject.next(template);\n          this.saveStatusSubject.next('saved');\n          return template;\n        })\n      );\n  }\n\n  updateRoleField(template: ITemplate, updated_field, role_index, old_name) {\n    const field_index = findIndex(template.roles[role_index].fields, { name: old_name });\n    if (field_index >= 0) {\n      template.roles[role_index].fields[field_index] = updated_field;\n    } else {\n      template.roles[role_index].fields.push(updated_field);\n    }\n    return template;\n  }\n\n  updateDropdownField(template: ITemplate, body: any, oldName, i, j): Observable<ITemplate> {\n    oldName = oldName.trim();\n    return this.http\n      .put<any>(this.rForm_backend_url+ '/templates/' + template.id + '/fields/' + oldName, body)\n      .pipe(\n        map(field => {\n          const fieldIndex = findIndex(template.pages[i].fields, { name: oldName });\n          template.pages[i].fields[fieldIndex] = field;\n          this.templateSubject.next(template);\n          this.saveStatusSubject.next('saved');\n          return template;\n        })\n      );\n  }\n\n  deleteSequence(template_id: string, sequence_number: number) {\n    return this.templatesService.deleteSequence(template_id, sequence_number);\n  }\n\n  prepareFieldDuplication(field) {\n    this.duplicateFieldSubject.next(field);\n  };\n\n  checkForFields(roles) {\n    let hasFields = true;\n    if (roles && roles.length > 0) {\n      for (let role of roles) {\n        if (role && role.type === 'signer' && role.fields.length === 0) {\n          hasFields = false;\n        }\n      }\n    } else {\n      hasFields = false;\n    }\n    this.hasFields = hasFields;\n    this.hasFieldsSubject.next(this.hasFields);\n  }\n\n  createSnackBar(title: string, buttonTitle = 'OK'): void {\n  //   let snackbarConfig: MatSnackBarConfig\n  //   if (window.innerWidth >= 920) {\n  //     snackbarConfig = {\n  //       verticalPosition: 'bottom',\n  //       horizontalPosition: 'left',\n  //       duration: 5000\n  //     }\n  //   } else {\n  //     snackbarConfig = {\n  //       verticalPosition: 'top',\n  //       duration: 5000\n  //     }\n  //   }\n  //   this.snackbar.open(title, buttonTitle, snackbarConfig);\n  }\n\n  editDocsUrl(templateId: string) {\n    const editDocsPageUrl = `/builder/${templateId}/docs`;\n    return editDocsPageUrl;\n  }\n\n  editRolesUrl(templateId: string) {\n    const editRolesPageUrl = `/builder/${templateId}/roles`;\n    return editRolesPageUrl;\n  }\n\n  editTemplateUrl(templateId: string) {\n    const editPageUrl = `/builder/${templateId}/fields`\n    return editPageUrl;\n  }\n\n  previewTemplateUrl(templateId: string) {\n    const reviewTemplateUrl = `/document/${templateId}`;\n    return reviewTemplateUrl;\n  }\n\n  addFieldRole(templateId: string, fieldId: string, roleId: string, i, j): Promise<FieldRole> {\n    const fieldRoleInfo = JSON.stringify({\n      field_id: fieldId,\n      role_id: roleId\n    });\n    return this.http\n      .post<FieldRole>(this.rForm_backend_url+ '/template/' + templateId + '/field_role', fieldRoleInfo).toPromise().then(fieldRole => {\n        return fieldRole;\n      });\n  }\n\n  addRole(role: IRole | IRole[], template: ITemplate): Observable<ITemplate> {\n    const templateBackend = this.rForm_backend_url+ '/templates/' + template.id + '/roles';\n    this.roles = [];\n    this.roles = this.roles.concat(role);\n    const roleRequests = [];\n    this.roles.forEach(role => {\n      roleRequests.push(this.http.post(templateBackend, role));\n    })\n\n    if (this.roles && this.roles.length > 0) {\n      return forkJoin(roleRequests).pipe(\n        map(savedRoles => {\n          savedRoles.concat(savedRoles as IRole[]);\n          if (!template['roles']) {\n            template['roles'] = <IRole[]>[];\n          }\n          const savedRolesWithFields = savedRoles.map(newRole => {\n            newRole['fields'] = [];\n            return newRole;\n          });\n          template['roles'] = template['roles'].concat(savedRolesWithFields);\n          this.recipients = this.sortRoles(template);\n          this.roles = this.recipients;\n          this.templateSubject.next(template);\n          this.recipientsSubject.next(this.recipients);\n          this.recipients;\n          return template\n        }, (err) => {\n          console.error(err);\n          console.error('Couldn\\'t save all the roles');\n          return err;\n        })\n      );\n    } else {\n      return of(template);\n    }\n  }\n\n  addCheckboxGroup(field) {\n    this.newOptionSubject.next(\n      {\n        type: 'checkbox_group',\n        page_sequence: field.page_sequence,\n        field_name: field.name,\n      }\n    );\n  }\n\n  addRadioGroup(field) {\n    this.newOptionSubject.next(\n      {\n        type: 'radio_button_group',\n        page_sequence: field.page_sequence,\n        field_name: field.name,\n      }\n    );\n  }\n\n  getRolesInSequence(roles) {\n    const rolesInSequence = [];\n    for (let roleIndex = 0; roleIndex < roles.length; roleIndex++) {\n      const sequenceIndex = roles[roleIndex]['sequence'] - 1;\n      const role = { ...roles[roleIndex] };\n      role['style'] = {\n        backgroundColor: `${this.getRoleColor(role.name, roleIndex)}`\n      };\n      if (!rolesInSequence[sequenceIndex]) {\n        rolesInSequence[sequenceIndex] = [role];\n      } else {\n        rolesInSequence[sequenceIndex].push(role);\n      }\n    }\n    this.numberOfSequenceSubject.next(rolesInSequence.length);\n    this.numberOfRolesSubject.next(roles.length);\n    return rolesInSequence\n  }\n\n  deleteRole(roleName, template: ITemplate) {\n    return this.http.delete(this.rForm_backend_url+ '/templates/' + template.id + '/roles/' + roleName)\n      .toPromise()\n      .then(() => {\n        remove(template.roles, (role: IRole) => {\n          this.recipients = this.sortRoles(template);\n          if (role.name === roleName) {\n            const fields = role.fields;\n            const fieldNames = [];\n            for (const field of fields) {\n              fieldNames.push(field.name);\n            }\n            this.deleteTemplateFields(fieldNames, template);\n          }\n          this.templateSubject.next(template);\n          this.recipientsSubject.next(this.recipients);\n          return role.name === roleName\n        });\n      });\n  }\n\n  deleteRoles(roleNames: Array<string>, template: ITemplate) {\n    const deleteCalls = [];\n    roleNames.forEach(role_name => {\n      template = {\n        ...template,\n        roles: template.roles.filter(role => role.name !== role_name)\n      }\n      deleteCalls.push(this.http.delete(this.rForm_backend_url+ '/templates/' + template.id + '/roles/' + role_name))\n    });\n    return forkJoin(deleteCalls).pipe(\n      map(() => {\n        return template;\n      }, err => {\n        console.error(err);\n        console.error('Couldn\\'t delete all the roles');\n        return err;\n      })\n    )\n  }\n\n  updateRoles(roles, template: ITemplate): Observable<ITemplate> {\n    const updateCalls = [];\n    roles.forEach(role => {\n      const body = {\n        template_id: template.id,\n        name: role.name.trim(),\n        full_name: role.full_name,\n        email: role.email,\n        sequence: role.sequence,\n        type: role.type,\n        delegator: role.delegator,\n        message: role.message,\n        phone: role.phone\n      }\n\n      const role_index = findIndex(template.roles, { name: role.old_name });\n      if (role_index >= 0) {\n        template.roles[role_index] = {\n          ...template.roles[role_index],\n          template_id: template.id,\n          name: role.name.trim(),\n          full_name: role.full_name,\n          email: role.email,\n          sequence: role.sequence,\n          type: role.type,\n          delegator: role.delegator,\n          message: role.message,\n          phone: role.phone\n        }\n      }\n      this.eventTracker.createEvent({\n        category: 'document',\n        action: 'document role updated',\n        label: `document id: ${template.id}`\n      });\n      updateCalls.push(this.http.put(this.rForm_backend_url+ '/templates/' + template.id + '/roles/' + role.old_name, body));\n    });\n    return forkJoin(updateCalls)\n      .pipe(\n        map(() => {\n          return template;\n        }, (err) => {\n          console.error(err);\n          console.error('Couldn\\'t save all the roles');\n          return err;\n        })\n      );\n  }\n  sortRoles(template: ITemplate): IRole[] {\n    if (template.roles.length < 1) {\n      return [];\n    }\n\n    const roles = template.roles.sort((a: IRole, b: IRole) => {\n      if (a.sequence === b.sequence) {\n        return a.name.toLowerCase() < b.name.toLowerCase() ? -1 : a.name.toLowerCase() > b.name.toLowerCase() ? 1 : 0;\n      }\n      return a.sequence - b.sequence;\n    });\n\n    for (let x = 0; x < roles.length; x++) {\n      roles[x]['rgba'] = getRGBA(x);\n    }\n    template.roles = roles;\n\n    return roles;\n  }\n\n  getRoleColor(name, index?, template?: ITemplate) {\n    if (index !== null && index > -1) {\n      return getRGBA(index);\n    } else if (template) {\n      if (template.roles && template.roles.length > 0) {\n        index = findIndex(template.roles, { name: name });\n        if (index >= 0) {\n          return template.roles[index].rgba ? template.roles[index].rgba : getRGBA(index);\n        }\n      } else {\n        return nameToRGBA(name);\n      }\n    } else {\n      return nameToRGBA(name);\n    }\n  }\n\n  updateFullName(role: IRole, template: ITemplate) {\n    for (let i = 0; i < template.pages.length; i++) {\n      if (template.pages[i].fields.length > 0) {\n        for (let j = 0; j < template.pages[i].fields.length; j++) {\n          if (template.pages[i].fields[j].type === 'placeholder' && template.pages[i].fields[j].setting['type'] === 'full_name') {\n            if (template.pages[i].fields[j].setting['result'] !== role.full_name &&\n              template.pages[i].fields[j].role_name === role.name) {\n              template.pages[i].fields[j].setting['result'] = role.full_name;\n              const updatedField = { ...template.pages[i].fields[j] };\n              this.updateTemplateField(template, updatedField, updatedField.name, i, j).toPromise().then(() => {\n                this.templateSubject.next(template);\n              });\n            }\n          }\n        }\n      }\n    }\n  }\n\n  setActiveFieldIndex(activeFieldIndex) {\n    this.activeFieldIndex = activeFieldIndex;\n    this.activeFieldIndexSubject.next(this.activeFieldIndex);\n  }\n\n  async autoAddSigner(template: ITemplate) {\n    return new Promise(async (resolve, reject) => {\n      const recipients = await this.addRole({ name: 'Signer 1', type: 'signer', sequence: 1 } as IRole, template).toPromise();\n      this.activeRecipientSubject.next(recipients[0]);\n      setTimeout(() => {\n        resolve()\n      }, 500);\n    });\n  }\n\n  openTemplate(template: ITemplate) {\n    if (this.canUserPreview(template)) {\n      this.router.navigate([`document/${template.id}`]);\n    } else if (this.canUserEdit(template)) {\n      this.router.navigate([`builder/${template.id}/fields`]);\n    } else {\n      this.snackbarService.open(`Template is in build mode, and not ready for use.  Please check back soon.`)\n    }\n  }\n\n  canUserEdit(template: ITemplate) {\n    const response = this.templateGuard.canPerformAction(TemplateActions.WRITE, template);\n    return response['canPerform']\n  }\n\n  canUserPreview(template: ITemplate) {\n    const hasPermission = (this.templateGuard.canPerformAction(TemplateActions.READ, template)).canPerform;\n    let canPreview;\n    const signers = filter(template.roles, { type: 'signer' });\n    canPreview = signers && signers.length > 0;\n    for (const signer of signers) {\n      canPreview = signer['fields'] && signer['fields'].length > 0;\n    }\n    return hasPermission && canPreview;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable()\nexport class BuilderService {\n\n  private sideNavState: boolean;\n  private recipientSideNavState: boolean;\n  private activeRole: any;\n\n  public sideNavStateSubject: ReplaySubject<boolean> = new ReplaySubject();\n  public recipientSideNavStateSubject: ReplaySubject<boolean> = new ReplaySubject(1, 100);\n  public initiateAutofocus: ReplaySubject<boolean> = new ReplaySubject();\n  public recipientAutoFocus: ReplaySubject<boolean> = new ReplaySubject();\n  public deleteRoleSubject: ReplaySubject<any> = new ReplaySubject(1, 100)\n  public hasActiveRoleSubject: ReplaySubject<boolean> = new ReplaySubject();\n\n  // constructor() {}\n\n  toggleSideNav() {\n    this.sideNavState = !this.sideNavState;\n    this.sideNavStateSubject.next(this.sideNavState);\n    if (this.sideNavState === false) {\n      this.initiateAutofocus.next(false);\n    }\n  }\n\n  toggleRecipientSideNav() {\n    this.recipientSideNavState = !this.recipientSideNavState;\n    this.recipientSideNavStateSubject.next(this.recipientSideNavState);\n    if (this.recipientSideNavState === false) {\n      this.recipientAutoFocus.next(false);\n    }\n  }\n\n  openSideNav() {\n    this.sideNavState = true;\n    this.sideNavStateSubject.next(this.sideNavState);\n  }\n\n  openRecipientSideNav() {\n    this.recipientSideNavState = true;\n    this.recipientSideNavStateSubject.next(this.recipientSideNavState);\n  }\n\n  closeSideNav() {\n    this.sideNavState = false;\n    this.sideNavStateSubject.next(this.sideNavState);\n    this.initiateAutofocus.next(false);\n  }\n\n  closeRecipientSideNav() {\n    this.recipientSideNavState = false;\n    this.recipientSideNavStateSubject.next(this.recipientSideNavState);\n    this.recipientAutoFocus.next(false);\n  }\n\n  setActiveRole(role) {\n    this.activeRole = role;\n    this.hasActiveRoleSubject.next(true);\n  }\n\n  deleteRole() {\n    if (!!this.activeRole) {\n      this.deleteRoleSubject.next(this.activeRole);\n      this.activeRole = null;\n      this.hasActiveRoleSubject.next(false);\n    }\n  }\n\n  getSideNavState() {\n    return this.sideNavState;\n  }\n\n  getRecipientSideNavState() {\n    return this.recipientSideNavState;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { v4 as uuid } from 'uuid';\n\nimport {\n  getDefaultHeight,\n  getDefaultWidth,\n  getUIFieldStyling\n} from '../functions/conversion';\n\n@Injectable()\nexport class ConversionService {\n  private ITextWidth = 612;\n  private ITextHeight = 792;\n  private XRatio = 1;\n  private YRatio = 1;\n  private a3Portrait = {\n    x: 842,\n    y: 1191\n  };\n  private a3Landscape = {\n    x: this.a3Portrait.y,\n    y: this.a3Portrait.x\n  };\n  private a4Portrait = {\n    x: 595,\n    y: 842\n  };\n  private a4Landscape = {\n    x: this.a4Portrait.y,\n    y: this.a4Portrait.x\n  };\n  private a5Portrait = {\n    x: 420,\n    y: 595\n  };\n  private a5Landscape = {\n    x: this.a5Portrait.y,\n    y: this.a5Portrait.x\n  };\n  private letterPortrait = {\n    x: 612,\n    y: 792\n  };\n  private letterLandscape = {\n    x: this.letterPortrait.y,\n    y: this.letterPortrait.x\n  }\n  private legalPortrait = {\n    x: 612,\n    y: 1008\n  };\n  private legalLandscape = {\n    x: this.legalPortrait.y,\n    y: this.legalPortrait.x\n  };\n  private portraitSizes = [\n    this.a3Portrait, this.a4Portrait, this.a5Portrait, this.letterPortrait, this.legalPortrait\n  ];\n  private landscapeSizes = [\n    this.a3Landscape, this.a4Landscape, this.a5Landscape, this.letterLandscape, this.legalLandscape\n  ];\n  private rFormWidth = 0;\n  private rFormHeight = 0;\n  private pageCache = [];\n\n  setRValue(width, height) {\n    this.rFormWidth = width;\n    this.rFormHeight = height;\n  }\n\n  setPageCache(pageCache) {\n    this.pageCache = pageCache;\n  }\n\n  get xRatio(): number {\n    return this.XRatio;\n  }\n\n  setXRatio(value: number) {\n    this.XRatio = value;\n  }\n\n  get yRatio(): number {\n    return this.YRatio;\n  }\n\n  setYRatio(value: number) {\n    this.YRatio = value;\n  }\n\n  getRTop(y, fieldHeight, iTextHeight?, yRatio?) {\n    if (!iTextHeight) {\n      iTextHeight = this.ITextHeight;\n    }\n\n    if (!yRatio) {\n      yRatio = this.yRatio;\n    }\n    return iTextHeight - ((y + fieldHeight) * yRatio);\n  }\n\n  getRValue(y, ratio?) {\n    if (!ratio) {\n      ratio = this.yRatio\n    }\n    return y * ratio;\n  }\n\n  getRLeft(x, ratio?) {\n    if (!ratio) {\n      ratio = this.xRatio;\n    }\n    return x * ratio;\n  }\n\n  getITextLeft(x, xRatio) {\n    if (!xRatio) {\n      xRatio = this.xRatio;\n    }\n    return x / xRatio;\n  }\n\n  getITextBottomFromRTop(y, fieldHeight, rFormHeight?, yRatio?) {\n    if (!rFormHeight) {\n      rFormHeight = this.rFormHeight;\n    }\n    const uiHeight = fieldHeight;\n    return (rFormHeight - y - uiHeight);\n  }\n\n  getITextBottom(y) {\n    return y;\n  }\n\n  getDefaultHeight(field) {\n    return getDefaultHeight(field);\n  }\n\n  getDefaultWidth(field) {\n    return getDefaultWidth(field);\n  }\n\n  getUIFieldStyling(field, pageHeight, xRatio?, yRatio?) {\n    if (!xRatio) {\n      xRatio = this.xRatio;\n    }\n    if (!yRatio) {\n      yRatio = this.yRatio;\n    }\n    return getUIFieldStyling(field);\n  }\n\n  getUIFieldSetting(field, x, y, pageHeight) {\n    let setting;\n    if (field.type === 'textbox' || field.type === 'date' || field.type === 'placeholder') {\n      setting = {\n        width: field.setting.width ? field.setting.width : 150,\n        height: field.setting.height ? field.setting.height : 15,\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, field.setting.height ? field.setting.height : 15, pageHeight)\n      }\n      if (field.type === 'date') {\n        setting.width = 64;\n      }\n    } else if (field.type === 'timestamp') {\n      setting = {\n        width: field.setting.width ? field.setting.width : 64,\n        height: field.setting.height ? field.setting.height : 15,\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, field.setting.height ? field.setting.height : 15, pageHeight)\n      }\n    } else if (field.type === 'signature' || field.type === 'initial') {\n      setting = {\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, 36, pageHeight)\n      };\n    } else if (field.type === 'checkbox_group') {\n      setting = {\n        options: [{\n          id: uuid(),\n          x: field.setting.x ? field.setting.x : x,\n          y: this.getITextBottomFromRTop(y, 13.5, pageHeight),\n          checked: false,\n          value: 'Option 1'\n        }]\n      };\n    } else if (field.type === 'radio_button_group') {\n      setting = {\n        options: [{\n          id: uuid(),\n          x: field.setting.x ? field.setting.x : x,\n          y: this.getITextBottomFromRTop(y, 13.5, pageHeight),\n          selected: false,\n          value: 'Option 1'\n        }]\n      };\n    } else if (field.type === 'dropdown') {\n      setting = {\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, 15, pageHeight),\n        width: field.setting.width ? field.setting.width : 64,\n        height: field.setting.height ? field.setting.height : 15,\n        value: null,\n        placeholder: 'Choose',\n        options: [{\n          id: uuid(),\n          value: 'Option 1'\n        }]\n      };\n    } else if (field.type === 'attachment') {\n      setting = {\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, 24, pageHeight),\n        label: ''\n      };\n    } else if (field.type === 'payment') {\n      setting = {\n        x: field.setting.x ? field.setting.x : x,\n        y: this.getITextBottomFromRTop(y, 24, pageHeight),\n        account_id: '',\n        currency: 'usd',\n        payment_fee_type: 'static',\n        amount: 1,\n        if_transfer_fee: false\n      }\n    }\n    return setting;\n  }\n\n  updateITextValues(newHeight, newWidth) {\n    this.ITextHeight = newHeight;\n    this.ITextWidth = newWidth;\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpClient, HttpRequest } from '@angular/common/http';\nimport { DocumentsService, FieldData } from '@verdocs/sdk';\nimport { VerdocsStateService } from '@verdocs/tokens';\nimport { BehaviorSubject, ReplaySubject } from 'rxjs';\n\nimport { EssentialsConfig, EssentialsConfigToken } from '../essentials.module';\nimport { dataURLtoBlob } from '../functions/utils';\n\n@Injectable()\nexport class SignatureService {\n  private _config_token: EssentialsConfig;\n  private signatureId: string;\n  private initialId: string;\n  private _rForm_backend_url: string;\n  private envUrl: string;\n  private currentFields: any[];\n  private workingField: FieldData<any> = new FieldData({ order: 0, fName: '' });\n  private signatureBlob: Blob;\n  private initialBlob: Blob;\n  private fields: any[] = [];\n  private _total = -1;\n  private initialImg: any;\n  private workingPayment: any;\n  private rName: string;\n  private recipients: any[];\n\n  public _fields = new ReplaySubject<any[]>();\n  public _recipient = new ReplaySubject<string>();\n  public _showSig = new ReplaySubject<boolean>();\n  public _signedFields = new BehaviorSubject<any>({});\n  public _envId = new ReplaySubject<string>();\n  public _rName = new ReplaySubject<string>();\n  public signImgSubject = new ReplaySubject<any>();\n  public initialImgSubject = new ReplaySubject<any>();\n  public initialIdSubject = new ReplaySubject<string>();\n  public signatureIdSubject = new ReplaySubject<string>();\n  public signedFields: any = {};\n  public signImg: any;\n  public mode = '';\n\n  constructor(\n    private httpClient: HttpClient,\n    private injector: Injector,\n    private envelopeSvc: DocumentsService,\n    private vTokenStateService: VerdocsStateService\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n    this._rForm_backend_url = this._config_token.rForm_backend_url;\n    this.envUrl = `${this._rForm_backend_url}/envelopes`\n  }\n\n  setWorkingPayment(payment: any) {\n    this.workingPayment = payment;\n  }\n\n  updateFields(fields: any[]): void {\n    this.fields = fields;\n    this._fields.next(this.fields);\n  }\n\n  postSignatureBlob() {\n    const blobFile = this.signatureBlob;\n    const formData = new FormData();\n    formData.append('signature', blobFile, blobFile['name']);\n    const request = new HttpRequest('POST', this._rForm_backend_url + '/signatures', formData);\n    return this.httpClient.request(request)\n      .toPromise()\n      .then(response => {\n        if (response && response['body']) {\n          return response['body'];\n        } else {\n          console.error('Failed to upload signature image');\n        }\n      });\n  }\n\n  postInitialBlob() {\n    const blobFile = this.initialBlob;\n    const formData = new FormData();\n    formData.append('initial', blobFile, blobFile['name']);\n    const request = new HttpRequest('POST', this._rForm_backend_url + '/initials', formData);\n    return this.httpClient.request(request)\n      .toPromise()\n      .then(response => {\n        if (response && response['body']) {\n          return response['body'];\n        } else {\n          console.error('Failed to upload Initial');\n        }\n      });\n  }\n\n  toggleSig(bool): void {\n    this._showSig.next(bool);\n  }\n\n  setSigId(id): void {\n    this.signatureId = id;\n    this.signatureIdSubject.next(id);\n  }\n\n  setInitialId(id): void {\n    this.initialId = id;\n    this.initialIdSubject.next(id);\n  }\n\n  setSignImg(url) {\n    this.signImg = url;\n    this.signImgSubject.next(this.signImg);\n  }\n\n  getSignImg() {\n    return this.signImg;\n  }\n\n  setInitialImg(url) {\n    this.initialImg = url;\n    this.initialImgSubject.next(this.initialImg);\n  }\n\n  getInitialImg() {\n    return this.initialImg;\n  }\n\n  putSignatureField(envelopeId, fieldName, signatureId) {\n    return new Promise<any>(async (resolve, reject) => {\n      const ipAddress = await this.getPublicIp();\n      this.httpClient\n        .put(this.envUrl + `/${envelopeId}/fields/${fieldName}/signature/${signatureId}`,\n          {\n            ip_address: ipAddress\n          }\n        ).toPromise().then(res => {\n          return resolve(res);\n        })\n    });\n  }\n\n  putInitialField(envelopeId, fieldName, initialId) {\n    return new Promise<any>(async (resolve, reject) => {\n      const ipAddress = await this.getPublicIp();\n      this.httpClient\n        .put(this.envUrl + `/${envelopeId}/fields/${fieldName}/initial/${initialId}`,\n          {\n            ip_address: ipAddress\n          }\n        ).toPromise().then(res => {\n          return resolve(res);\n        })\n    });\n  }\n\n  // refactor it to 4 functions\n  updateEnvelopeField(envelopeId, ifPrepared?: boolean) {\n    if (this.workingField && this.workingField.type) {\n      const result = this.getEnvelopeFieldValue(ifPrepared);\n      this.putEnvelopeField(envelopeId, result);\n    }\n  }\n\n  getEnvelopeFieldValue(isPrepared?: boolean) {\n    if (this.workingField && this.workingField.type) {\n      const result = {\n        value: ''\n      };\n      if (typeof (isPrepared) === 'boolean') {\n        result['prepared'] = isPrepared;\n      }\n      switch (this.workingField.type.toLowerCase()) {\n        case 'textbox':\n        case 'checkbox':\n        case 'date':\n          result.value = this.workingField.value;\n          break;\n        default:\n          break;\n      }\n      return result;\n    }\n    return null;\n  }\n\n  putEnvelopeField(envelopeId, result) {\n    return new Promise<any>((resolve, reject) => {\n      this.httpClient\n        .put(this.envUrl + `/${envelopeId}/fields/${this.workingField.fName}`,\n          result\n        ).toPromise().then(res => {\n          return resolve(res);\n        })\n    });\n  }\n\n  updateGroupedField(envelopeId, body, fieldName, ifPrepared?: boolean) {\n    if (typeof (ifPrepared) === 'boolean') {\n      body['prepared'] = ifPrepared;\n    }\n    return new Promise<any>((resolve, reject) => {\n      this.httpClient\n        .put(this.envUrl + `/${envelopeId}/fields/${fieldName}`,\n          body\n        ).toPromise().then(res => {\n          return resolve(res);\n        })\n    });\n  }\n\n  async prepareEnvelopeField(envelopeId, setPrepared): Promise<boolean> {\n    if (this.workingField && this.workingField.type) {\n      const fieldType = this.workingField.type.toLowerCase();\n      if (fieldType !== 'textbox' && fieldType !== 'date' && fieldType !== 'checkbox') {\n        return false;\n      } else {\n        const fieldResponse: any = await this.updateEnvelopeField(envelopeId, setPrepared);\n        if (fieldResponse) {\n          return fieldResponse.prepared;\n        }\n      }\n    }\n    return false\n  }\n\n  private getPublicIp() {\n    const apiUrl = 'https://api.ipify.org?format=jsonp';\n    const callback = 'callback=JSONP_CALLBACK';\n    return this.httpClient\n      .jsonp(apiUrl, callback)\n      .toPromise()\n      .then((res) => {\n        return res['ip']\n      }).catch((err) => {\n        console.error('Failed to get ip', err)\n        return 'ip_unavailable'\n      });\n  }\n\n  updateCurrentField(\n    fName: string,\n    result: string,\n    vName: string,\n    pageNum: number,\n    id: number,\n    required: boolean,\n    order: number,\n    type: string\n  ) {\n    this.workingField.fName = fName;\n    this.workingField.value = result;\n    this.workingField.pageNum = pageNum;\n    this.workingField.id = id;\n    this.workingField.vName = vName;\n    this.workingField.required = required;\n    this.workingField.order = order;\n    this.workingField.type = type;\n  }\n\n  setCurrentFields(fields: any[]) {\n    this.currentFields = fields;\n  }\n\n  get currField() {\n    return this.workingField;\n  }\n\n  errorMessages(pageNum, id) {\n    return this.currentFields[pageNum][id]['error'];\n  }\n\n  setEnvId(id): void {\n    this._envId.next(id);\n  }\n\n  setrName(role): void {\n    this.rName = role;\n    this._rName.next(role);\n  }\n\n  getSignatureUrl(data) {\n    if (data) {\n      const blob = dataURLtoBlob(data);\n      const url = URL.createObjectURL(blob);\n      return url;\n    }\n    return null;\n  }\n\n  setSignatureData(data) {\n    const blob = dataURLtoBlob(data);\n    const url = URL.createObjectURL(blob);\n    this.signatureBlob = blob;\n    this.setSignImg(url);\n  }\n\n  setInitialData(data) {\n    const blob = dataURLtoBlob(data);\n    const url = URL.createObjectURL(blob);\n    this.initialBlob = blob;\n    this.setInitialImg(url);\n  }\n\n  updateSigned(fName, result) {\n    this.workingField['value'] = 'signed';\n    this.signedFields[fName] = result;\n    this._signedFields.next(this.signedFields);\n  }\n\n  updateInitialed(fName, result) {\n    this.workingField['value'] = 'initialed';\n    this.signedFields[fName] = result;\n    this._signedFields.next(this.signedFields);\n  }\n\n  setSignatureId(id) {\n    this.signatureId = id;\n    this.signatureIdSubject.next(id);\n  }\n\n  setRecipient(recipient: string): void {\n    this._recipient.next(recipient);\n  }\n\n  setTotal(t: number) {\n    this._total = t;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\nimport { SignatureService } from './envelope-signature.service';\n\n@Injectable()\nexport class EnvelopeViewService {\n  public recipientSubject = new ReplaySubject<any>();\n  public jumpCoordinateSubject = new ReplaySubject<any>();\n  public fieldTypeSubject = new ReplaySubject<string>();\n  public pdfUrlSubject = new ReplaySubject<any>();\n  public pdfBlobSubject = new ReplaySubject<any>();\n  public toggleNextSubject = new ReplaySubject<boolean>();\n  public viewModeSubject = new ReplaySubject<string>();\n  public agreedSubject = new ReplaySubject<boolean>(1, 500);\n  public attachmentsSubject = new ReplaySubject<any[]>();\n  public formValiditySubject = new ReplaySubject<any[]>();\n  public requestFormValiditySubject = new ReplaySubject<boolean>();\n  public mode: string;\n\n  private rName: string;\n\n  constructor(\n    private signatureService: SignatureService\n  ) {\n    this.signatureService._rName.subscribe(role => {\n      this.rName = role;\n    });\n  }\n\n  setMode(mode) {\n    this.mode = mode;\n    this.viewModeSubject.next(this.mode);\n  }\n\n  setSignatureService(signatureService) {\n    this.signatureService = signatureService;\n  }\n\n  requestFormValidity(value: boolean) {\n    this.requestFormValiditySubject.next(value);\n  }\n\n  setFormValidityData(value: any[]) {\n    this.formValiditySubject.next(value);\n  }\n\n  ifBelongsToPreparer(type) {\n    return type === 'textbox' || type === 'date' || type === 'checkbox';\n  }\n\n  ifBelongsToCurrentRecipient(field) {\n    if (this.mode === 'prepareview') {\n      return this.ifBelongsToPreparer(field.controlType);\n    } else {\n      return field.recipientRole === this.rName;\n    }\n  }\n}","import { Inject, PLATFORM_ID, RendererFactory2, ViewEncapsulation, Injector } from '@angular/core';\nimport { isPlatformBrowser, DOCUMENT } from '@angular/common';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { filter, map, switchMap } from 'rxjs/operators';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\nimport { VerdocsStateService, VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { EssentialsConfig, EssentialsConfigToken } from '../essentials.module';\n\nenum Robots {\n  Noindex = 'Noindex',\n  Index = 'Index',\n  Follow = 'Follow',\n  Noimageindex = 'Noimageindex',\n  None = 'None',\n  Noarchive = 'Noarchive',\n  Nocache = 'Nocache',\n  Nosnippet = 'Nosnippet'\n}\nexport class PageService {\n  private _config_token: EssentialsConfig;\n  private segmentIsInitialized = false;\n  private lazyTitle = false;\n\n  constructor(\n    private titleService: Title,\n    private injector: Injector,\n    private meta: Meta,\n    private rendererFactory: RendererFactory2,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private vTokenStateService: VerdocsStateService,\n    private tokenObject: VerdocsTokenObjectService,\n    @Inject(PLATFORM_ID) private platform,\n    @Inject(DOCUMENT) private document\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n  }\n\n  inti() {\n    this.initializeSegment();\n    setTimeout(() => {\n      this.additionalSetupForWidgets();\n    }, 500);\n    this.router.events.pipe(\n      filter(event => event instanceof NavigationEnd),\n      map(() => this.activatedRoute),\n      map(route => {\n        let targetRoute = route;\n        while (targetRoute.firstChild) {\n          targetRoute = targetRoute.firstChild;\n        }\n        return targetRoute\n      }),\n      switchMap(route => route.data),\n      map((data) => {\n        this.lazyTitle = data.lazyTitle;\n        return data.title;\n      })\n    ).subscribe((title) => {\n      if (this.lazyTitle) {\n        this.lazyTitle = false;\n      } else {\n        this.setTitleAndRecord(title);\n      }\n    });\n  }\n\n  setTitleAndRecord(title: string, pageName?: string) {\n    let newTitle = 'Verdocs';\n    if (isPlatformBrowser(this.platform)) {\n      if (this.document.cookie.includes(this._config_token.rForm_cookie_name)) {\n        newTitle = title ? title : 'Verdocs'\n        window['analytics'].page(pageName || newTitle);\n      }\n    } else {\n      newTitle = 'Verdocs' + (title ? ` | ${title}` : '')\n    }\n    this.titleService.setTitle(newTitle);\n  }\n\n  setMetaProperty(property, content) {\n    if (!!content) {\n      if (!!this.getMetaTagProperty(property)) {\n        this.meta.updateTag(\n          { property, content },\n          `property=\"${property}\"`\n        );\n      } else {\n        this.meta.addTag(\n          { property, content },\n          true\n        );\n      }\n    } else {\n      if (!!this.getMetaTagProperty(property)) {\n        this.meta.removeTag(`property=${property}`);\n      }\n    }\n  }\n\n  setMetaName(property, content) {\n    if (!!content) {\n      if (!!this.getMetaTagProperty(property)) {\n        this.meta.updateTag(\n          { property, content },\n          `name=\"${property}\"`\n        );\n      } else {\n        this.meta.addTag(\n          { property, content },\n          true\n        );\n      }\n    } else {\n      if (!!this.getMetaTagProperty(property)) {\n        this.meta.removeTag(`name=${property}`);\n      }\n    }\n  }\n\n  setOpenGraphMeta(type: string, title: string, description: string, image: string, url: string) {\n    if (!!type) {\n      this.setMetaProperty('og:type', type);\n    }\n    if (!!title) {\n      this.setMetaProperty('og:title', title);\n    }\n    if (!!description) {\n      this.setMetaProperty('og:description', description);\n    }\n    if (!!image) {\n      this.setMetaProperty('og:image', image);\n    }\n    if (!!url) {\n      this.setMetaProperty('og:url', url);\n    }\n    if (!!this.getMetaTagProperty('og:site_name')) {\n      return;\n    } else {\n      this.meta.addTag(\n        { property: 'og:site_name', content: 'Verdocs' }\n      )\n    }\n  }\n  setRobotMeta(...robot_values: string[]) {\n    let parameters = '';\n    for (let x = 0; x < robot_values.length; x++) {\n      if (robot_values[x]) {\n        if (x === robot_values.length - 1) {\n          parameters += robot_values[x];\n        } else {\n          parameters += robot_values[x] + \", \"\n        }\n      }\n    }\n    const robot_parameters = parameters;\n    this.setMetaName('robots', robot_parameters);\n  }\n  setCanonicalUrl(tag: LinkDefinition) {\n    if (!tag.href) {\n      tag['href'] = this.document.url;\n    }\n    this.addTag(tag);\n  }\n  setDescriptionMeta(content: string) {\n    if (!!this.getMetaTag('description')) {\n      if (content) {\n        this.meta.updateTag(\n          { name: 'description', content: content },\n          `name='description'`\n        );\n      } else {\n        this.meta.removeTag(`name='description'`);\n      }\n    } else {\n      if (content) {\n        this.meta.addTag(\n          { name: 'description', content: content },\n          true\n        );\n      }\n    }\n  }\n\n  getMetaTag(name: string) {\n    return this.meta.getTag(`name='${name}'`);\n  }\n\n  getMetaTagProperty(property: string) {\n    return this.meta.getTag(`property='${property}'`);\n  }\n\n  private initializeSegment() {\n    if (isPlatformBrowser(this.platform)) {\n      const analytics = window['analytics'];\n      if (document.cookie.includes(this._config_token.rForm_cookie_name)) {\n        const idTokenSubscription = this.vTokenStateService.decodedIdTokenSubject.subscribe(decodedIdToken => {\n          idTokenSubscription.unsubscribe();\n          if (!this.segmentIsInitialized) {\n            this.segmentIsInitialized = true;\n            analytics.reset();\n            const profile = this.tokenObject.getProfile();\n            analytics.identify(decodedIdToken.sub, {\n              userId: decodedIdToken.sub,\n              email: decodedIdToken.email,\n              name: decodedIdToken.name,\n              'Verdoc plan': this.planType('verdoc'),\n              'Organization plan': this.planType('organization'),\n              'Current Profile Id': this.tokenObject.getProfileID(),\n              'Current Company': profile.organization.name,\n              company: {\n                id: profile.organization_id,\n                name: profile.organization.name\n              }\n            }, {\n              Intercom: { hideDefaultLauncher: true }\n            });\n          }\n        });\n      }\n    }\n  }\n\n  robotEnum() {\n    return Robots;\n  }\n\n  private planType(product) {\n    let productName = 'undefined';\n    switch (product) {\n      case 'verdoc':\n        productName = 'env';\n        break;\n      case 'organization':\n        productName = 'org'\n        break;\n    }\n    const plan = this.tokenObject.getPlans().find((p) => {\n      return p.includes(productName);\n    })\n    let planType = 'None';\n    if (plan) {\n      if (productName === 'env') {\n        planType = plan.includes('pro') ? 'Pro' : 'Essential';\n      } else {\n        planType = plan.includes('premium') ? 'Premium' : 'Standard';\n      }\n    }\n    return planType;\n  }\n  addTag(tag: LinkDefinition, forceCreation?: boolean) {\n    \n    const renderer = this.rendererFactory.createRenderer(this.document, {\n      id: '-1',\n      encapsulation: ViewEncapsulation.None,\n      styles: [],\n      data: {}\n    });\n    const link = renderer.createElement('link');\n    const head = this.document.head;\n    const selector = this._parseSelector(tag);\n\n    Object.keys(tag).forEach((prop: string) => {\n      return renderer.setAttribute(link, prop, tag[prop]);\n    });\n    try {\n\n\n      if (head === null) {\n        throw new Error('<head> not found within DOCUMENT.');\n      }\n\n\n      const existingLink = renderer.selectRootElement(selector)\n      if (!!existingLink) {\n        renderer.removeAttribute(existingLink, 'href');\n        renderer.setAttribute(existingLink, 'href', tag['href']);\n      } else {\n        renderer.appendChild(head, link);\n      }\n\n    } catch (e) {\n      // console.error('Error within linkService : ', e);\n      renderer.appendChild(head, link);\n    }\n  }\n\n  private _parseSelector(tag: LinkDefinition): string {\n    const attr: string = tag.rel ? 'rel' : 'hreflang';\n    return `link[${attr}=\"${tag[attr]}\"]`;\n  }\n\n  private additionalSetupForWidgets() {\n    if (isPlatformBrowser(this.platform)) {\n      if (window['Intercom']) {\n        window['Intercom']('onHide', function () {\n          window['intercomIsOpen'] = false;\n        });\n\n        window['Intercom']('onShow', function () {\n          window['intercomIsOpen'] = true;\n        });\n      }\n\n      window['lunchIntercom'] = function () {\n        if (window['Intercom']) {\n          if (window['intercomIsOpen'] && window['intercomIsOpen'] === true) {\n            window['Intercom']('hide');\n          } else {\n            window['Intercom']('show');\n          }\n        } else {\n          console.error('Intercom is not loaded!')\n        }\n      }\n\n      window['lunchElevio'] = function () {\n        if (window['_elev']) {\n          if (window['_elev'].widgetIsOpen()) {\n            window['_elev'].close()\n          } else {\n            window['_elev'].open()\n          }\n        } else {\n          console.error('Elevio is not loaded!')\n        }\n      }\n    }\n  }\n}\n\nexport declare type LinkDefinition = {\n  charset?: string;\n  crossorigin?: string;\n  href?: string;\n  hreflang?: string;\n  media?: string;\n  rel?: string;\n  rev?: string;\n  sizes?: string;\n  target?: string;\n  type?: string;\n} & {\n  [prop: string]: string;\n};\n","import { Injectable } from '@angular/core';\nimport { Subject ,  Observable } from 'rxjs';\nimport { ComponentData } from '@verdocs/sdk';\nimport { find } from 'lodash';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Injectable()\nexport class ModalService {\n  private modals: MatDialogRef<any>[] = [];\n  private componentData: any;\n  private subject: Subject<ComponentData> = new Subject<ComponentData>();\n\n  add(modal: any) {\n    this.modals.push(modal);\n  }\n\n  open(id: string) {\n    const modal = find(this.modals, { id: id });\n  }\n\n  close(id: string) {\n    const modal = find(this.modals, { id: id });\n    modal.close();\n  }\n\n  setComponentData(componentData: any) {\n    this.componentData = componentData;\n    this.subject.next(componentData);\n  }\n\n  getComponentData(): Observable<any> {\n    return this.subject.asObservable();\n  }\n}\n","import { Component, OnInit, Injector } from '@angular/core';\nimport { VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { Router } from '@angular/router';\n\nimport { EssentialsConfig, EssentialsConfigToken } from '../../essentials.module';\n\n@Component({\n  selector: 'four-oh-one-dialog',\n  templateUrl: './four-oh-one.dialog.html',\n  styleUrls: ['./four-oh-one.dialog.scss']\n})\nexport class FourOhOneDialog implements OnInit {\n  public error: any = null;\n  public currentProfile: any = null;\n  public error_code: string = null;\n  public error_title: string = null;\n  public error_message: string = null;\n  public rSecureUrl: string;\n  public rFormUrl: string;\n\n  private _config_token: EssentialsConfig;\n\n  constructor(\n    private router: Router,\n    private injector: Injector,\n    private vTokenObjectService: VerdocsTokenObjectService\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n    this.rSecureUrl = this._config_token.rSecure_frontend_url;\n    this.rFormUrl = this._config_token.rForm_frontend_url;\n  }\n\n  ngOnInit() {\n    this.currentProfile = this.vTokenObjectService.getProfile();\n    if (this.error && this.error.hasOwnProperty('error')) {\n      this.error_code = this.error.error.code || null;\n      if (this.error_code) {\n        this.prepareErroContent();\n      }\n    }\n  }\n\n  prepareErroContent() {\n    switch (this.error_code) {\n      case 'AUTH0002':\n        this.error_title = 'Authorization key is missing';\n        this.error_message = 'Try after ' + (this.currentProfile ? 'signing in again.' : 'signing in or signing up.');\n        break;\n      case 'T000001':\n        this.error_title = 'This document is not accessible';\n        this.error_message = (this.currentProfile ? 'Try using a different organization/account, ' : 'Try signing in, signing up, ') + 'or requesting access from the owner of this document.';\n        break;\n      case 'AUTH0003':\n        this.error_title = 'Cannot complete your request';\n        this.error_message = 'Try after ' + (this.currentProfile ? 'signing in again.' : 'signing in or signing up.');\n        break;\n      default:\n        this.error_title = 'Your request has been denied.';\n        this.error_message = null;\n        break;\n    }\n  }\n\n  goToDashboard() {\n    this.router.navigate(['/dashboard']);\n  }\n\n  signIn() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/login?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n\n  signUp() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/signup?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'plans-dialog',\n  templateUrl: './plans-dialog.component.html',\n  styleUrls: ['./plans-dialog.component.scss']\n})\nexport class PlansDialog implements OnInit {\n  public redirectUrl: string = null;\n  public type: string = null;\n  public dialogTitle: string = null;\n  public dialogMessage: string = null;\n\n  constructor(\n    private router: Router,\n    private dialog: MatDialogRef<PlansDialog>\n  ) { }\n\n  ngOnInit() {\n    switch (this.type) {\n      case 'free':\n        this.dialogTitle = 'Upgrade to create another document';\n        this.dialogMessage = 'We are glad to see you are drawing value from Verdocs. You have reached your limit of three documents per month with your free account. Please upgrade to an Essentials or Pro subscription to create more documents.';\n        break;\n      case 'essential':\n        this.dialogTitle = 'Upgrade to access this feature';\n        this.dialogMessage = 'This feature requires an essentials subscription or above. Please upgrade to access this feature.';\n        break;\n      case 'pro':\n        this.dialogTitle = 'Upgrade to access this feature';\n        this.dialogMessage = 'This feature requires a pro subscription. Please upgrade to access this feature.';\n        break;\n      default:\n        this.dialog.close();\n        break;\n    }\n  }\n\n  goToBilling() {\n    if (window && !!this.redirectUrl && !!this.type) {\n      window.location.href = (this.redirectUrl);\n    } else {\n      this.dialog.close();\n    }\n  }\n\n  close() {\n    this.dialog.close();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { FourOhOneDialog } from '../dialogs/error-dialogs/four-oh-one.dialog';\nimport { PlansDialog } from '../dialogs/plan-dialogs/plans-dialog.component';\n\nInjectable()\nexport class ErrorDialogService {\n  constructor(\n    private dialog: MatDialog\n  ) {\n        \n  }\n\n  show401ResponseError(err) {\n    const errorDialog = this.dialog.open(FourOhOneDialog, {\n      panelClass: 'error_dialog',\n      disableClose: true\n    });\n    errorDialog.componentInstance.error = err;\n  }\n\n  showPlansError(type: string, redirect_url: string, dialog_title?: string, dialog_message?: string) {\n    const planErrorDialog = this.dialog.open(PlansDialog, {\n      panelClass: 'error_dialog',\n      disableClose: true\n    });\n    if (type) {\n      planErrorDialog.componentInstance.type = type;\n    }\n    if (redirect_url) {\n      planErrorDialog.componentInstance.type = redirect_url;\n    }\n    if (dialog_title) {\n      planErrorDialog.componentInstance.dialogTitle = dialog_title;\n    }\n    if (dialog_message) {\n      planErrorDialog.componentInstance.dialogMessage = dialog_message;\n    }\n  }\n}\n","import { Injectable, Inject, Injector, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { PlansDialog } from '../dialogs/plan-dialogs/plans-dialog.component';\nimport { VerdocsStateService } from '@verdocs/tokens';\nimport { EssentialsConfig, EssentialsConfigToken } from '../essentials.module';\n\n@Injectable()\nexport class GuardService {\n  private _config_token: EssentialsConfig;\n  private _plans: {\n    'level-1': string;\n    'level-2': string;\n    'level-3': string;\n  };\n  private _rAccount_frontend_url: string;\n  private _redirectUrl = null;\n\n  constructor(\n    private injector: Injector,\n    private stateService: VerdocsStateService,\n    private dialog: MatDialog,\n    @Inject(PLATFORM_ID) private platform\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n    this._plans = this._config_token.plans;\n    this._rAccount_frontend_url = this._config_token.rAccount_frontend_url;\n  }\n\n  checkSubscription(type: string, subscriptionType: string, openDialog: boolean) {\n    const idToken = this.stateService.getIDToken();\n    const userId = this.toTokenObject(idToken)['sub'].slice(6);\n\n    this._redirectUrl = `${this._rAccount_frontend_url}/rAccount/user/${userId}/billing`;\n\n    switch (type) {\n      case 'reminders':\n        if (subscriptionType === this._plans['level-2'] || subscriptionType === this._plans['level-3']) {\n          return true;\n        } else {\n          if (openDialog === true) {\n            const essentialDialog = this.dialog.open(PlansDialog, {\n              panelClass: 'confirmation'\n            });\n            essentialDialog.componentInstance.type = 'essential';\n            essentialDialog.componentInstance.redirectUrl = this._redirectUrl;\n          }\n          return false;\n        }\n      case 'live-link':\n      case 'attachment':\n      case 'payment':\n        if (subscriptionType === this._plans['level-3']) {\n          return true;\n        } else {\n          if (openDialog === true) {\n            const proDialog = this.dialog.open(PlansDialog, {\n              panelClass: 'confirmation'\n            });\n            proDialog.componentInstance.type = 'pro';\n            proDialog.componentInstance.redirectUrl = this._redirectUrl;\n          }\n          return false;\n        }\n      case 'open-free-envelopes':\n        const freeDialog = this.dialog.open(PlansDialog, {\n          panelClass: 'confirmation'\n        });\n        freeDialog.componentInstance.type = 'free';\n        freeDialog.componentInstance.redirectUrl = this._redirectUrl;\n        return false;\n      default:\n        return false;\n    }\n  }\n\n  toTokenObject(accessToken) {\n    if (isPlatformBrowser(this.platform)) {\n      const base64Url = accessToken.split('.')[1];\n      const base64 = base64Url.replace('-', '+').replace('_', '/');\n      return JSON.parse(window.atob(base64));\n    }\n  }\n\n  getHighestEnvelopePlan(plans) {\n    let plan = null;\n    for (let x = 0; x < plans.length; x++) {\n      if (plans[x] === this._plans['level-3']) {\n        plan = plans[x];\n      } else if (plans[x] === this._plans['level-2'] && (plan === null || plan === 'env:free')) {\n        plan = plans[x];\n      } else if (plans[x] === this._plans['level-1'] && plan === null) {\n        plan = plans[x];\n      }\n    }\n    return plan;\n  }\n}\n","import { NgModule, InjectionToken } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogModule } from '@angular/material/dialog'\nimport { AngularApiModule } from '@verdocs/sdk';\n\nimport { SnackbarService } from './snackbar/snackbar.service';\nimport { AccountService } from './account/account.service';\nimport { BrowserToiTextService } from './builder/browser-to-iText.service';\nimport { BuilderDataService } from './builder/builder-data.service';\nimport { BuilderService } from './builder/builder-settings.service';\nimport { ConversionService } from './fields/conversion.service';\nimport { SignatureService } from './fields/envelope-signature.service';\nimport { EnvelopeViewService } from './fields/envelope-view.service';\nimport { PageService } from './fields/page.service';\nimport { ModalService } from './modal/modal.service';\nimport { ErrorDialogService } from './error-dialogs/error-dialog.service';\nimport { GuardService } from './guards/guard.service';\n\nimport { FourOhOneDialog } from './dialogs/error-dialogs/four-oh-one.dialog';\nimport { PlansDialog } from './dialogs/plan-dialogs/plans-dialog.component';\n\nexport interface EssentialsConfig {\n  production: boolean;\n  domain: string;\n  rForm_backend_url: string;\n  rForm_frontend_url: string;\n  rSecure_frontend_url: string;\n  rSecure_backend_url: string;\n  rAccount_frontend_url: string;\n  rAccount_backend_url: string;\n  rNotification_backend_url: string;\n  rForm_cookie_name: string;\n  loginURL: string;\n  origin: 'rAccount' | 'rForm';\n  plans: {\n    'level-1': string;\n    'level-2': string;\n    'level-3': string;\n  }\n}\n\nexport const EssentialsConfigToken = new InjectionToken<EssentialsConfig>('EssentialsConfig');\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [],\n  declarations: [\n    FourOhOneDialog,\n    PlansDialog\n  ]\n})\n// @dynamic\nexport class EssentialsModule {\n\n  static initializeEssentials(config: EssentialsConfig) {\n\n    return {\n      ngModule: EssentialsModule,\n      import: [\n        CommonModule,\n        AngularApiModule.initSDK({\n          production: config.production,\n          domain: config.domain,\n          origin: config.origin,\n          loginURL: config.loginURL,\n          rForm_backend_url: config.rForm_backend_url,\n          rForm_frontend_url: config.rForm_frontend_url,\n          rSecure_backend_url: config.rSecure_backend_url,\n          rSecure_frontend_url: config.rSecure_frontend_url,\n          rAccount_backend_url: config.rAccount_backend_url,\n          rAccount_frontend_url: config.rAccount_frontend_url,\n          rNotification_backend_url: config.rNotification_backend_url,\n          plans: config.plans\n      }),\n      MatDialogModule\n    ], \n      providers: [\n        {\n          provide: EssentialsConfigToken,\n          useValue: config\n        },\n        SnackbarService,\n        AccountService,\n        BrowserToiTextService,\n        BuilderDataService,\n        BuilderService,\n        ConversionService,\n        SignatureService,\n        EnvelopeViewService,\n        PageService,\n        ModalService,\n        ErrorDialogService,\n        GuardService\n      ],\n      declarations: [\n        FourOhOneDialog,\n        PlansDialog\n      ],\n      EntryComponents: [\n        FourOhOneDialog,\n        PlansDialog\n      ],\n      exports: [\n        FourOhOneDialog,\n        PlansDialog\n      ]\n    }\n  }\n}\n","import { Injectable, Injector } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { ReplaySubject } from 'rxjs';\nimport { VerdocsStateService } from '@verdocs/tokens';\nimport { ProfileModel, ProfileCollection } from '@verdocs/profiles';\nimport { EssentialsConfig, EssentialsConfigToken } from '../essentials.module';\n\nimport { findIndex } from 'lodash';\n\n@Injectable()\nexport class AccountService {\n  public userDataSubject = new ReplaySubject<any>();\n  public userProfileSubject = new ReplaySubject<any>();\n  public profileLoadingSubject = new ReplaySubject<boolean>();\n  public currentProfileSubject = new ReplaySubject<any>();\n  public personalAccountSubject = new ReplaySubject<any>();\n  public profilesSubject = new ReplaySubject<any>();\n\n  private _config_token: EssentialsConfig;\n  private userFullname = '';\n  private userInitial = '';\n  private userEmail = '';\n  private userPhone = '';\n  private userData = {\n    name: this.userFullname,\n    initial: null,\n    email: this.userEmail,\n    phone: this.userPhone\n  };\n\n  private profileData: any;\n  private backend_url;\n  private rSecure_backend_url: string;\n  private rForm_backend_url: string;\n  private currentOrganizationId: string = null;\n  \n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private vTokenStateService: VerdocsStateService,\n    private injector: Injector\n  ) {\n    this._config_token = this.injector.get(EssentialsConfigToken);\n    this.backend_url = this._config_token.rAccount_backend_url;\n    this.rForm_backend_url = this._config_token.rForm_backend_url;\n    this.rSecure_backend_url = this._config_token.rSecure_backend_url;\n  }\n\n  getAccountData() {\n    /***********\n    * Refactor *\n    ***********/\n    // const headerService = this.injector.get(HeaderService);\n    // headerService.noHeader.subscribe(status => {\n      // if (status === false) {\n        this.getProfiles();\n      // }\n    // });\n  }\n\n  getProfiles() {\n    return this.http.get(this.backend_url + '/profiles').toPromise().then((res: any[]) => {\n      const personal = res.splice(findIndex(res, p => p.organization.name === 'realster'), 1);\n      this.personalAccountSubject.next(personal[0]);\n      this.profileData = res.sort((a, b) => {\n        if (a.organization.name < b.organization.name) {\n          return -1;\n        }\n        if (a.organization.name > b.organization.name) {\n          return 1;\n        }\n        return 0;\n      });\n      this.profileData.unshift(personal[0]);\n      const currentIndex = findIndex(this.profileData, { current: true });\n      if (this.profileData[currentIndex]['first_name']) {\n        this.userFullname = this.profileData[currentIndex]['first_name'] + ' ' + this.profileData[currentIndex]['last_name'];\n        this.userInitial = this.profileData[currentIndex]['first_name'].charAt(0) +\n          this.profileData[currentIndex]['last_name'].charAt(0);\n      } else {\n        this.userFullname = '';\n      }\n      if (this.profileData[currentIndex]['phone']) {\n        this.userPhone = this.profileData[currentIndex]['phone'];\n      } else {\n        this.userPhone = '';\n      }\n      if (this.profileData[currentIndex]['email']) {\n        this.userEmail = this.profileData[currentIndex]['email'];\n      }\n      this.userData = {\n        name: this.userFullname,\n        initial: this.userInitial,\n        email: this.userEmail,\n        phone: this.userPhone\n      };\n      this.userProfileSubject.next(this.profileData);\n      const currentProfile = this.profileData[currentIndex];\n      this.currentProfileSubject.next(currentProfile);\n      this.currentOrganizationId = currentProfile.organization_id;\n      this.userDataSubject.next(this.userData);\n      return this.userData;\n    });\n  }\n\n  getProfileCollection(profiles) {\n    const profileModels: ProfileModel[] = [];\n    profiles.forEach(profile => {\n      profileModels.push(new ProfileModel(profile));\n    });\n    const profileCollection = new ProfileCollection(profileModels);\n    return profileCollection;\n  }\n\n  removeFromProfileData(id) {\n    const removeIndex = findIndex(this.profileData, { organization_id: name });\n    if (removeIndex >= 0) {\n      this.profileData.splice(removeIndex, 1);\n      this.userProfileSubject.next(this.profileData);\n    }\n  }\n\n  getAllProfiles() {\n    return this.http.get<any[]>(this.backend_url + '/profiles/').toPromise();\n  }\n\n  switchProfile(profile_id) {\n    this.profileLoadingSubject.next(true);\n    return this.http.post(this.backend_url + '/profiles/' + profile_id + '/switch', null).toPromise().then(async (res: any) => {\n      this.vTokenStateService.setTokens(res.tokens);\n      this.profileLoadingSubject.next(false);\n      return Promise.resolve(res);\n    });\n  }\n\n  async updateTokens(sendMessage?: boolean) {\n    return new Promise((resolve, reject) => {\n      this.vTokenStateService.updateTokens(this.rSecure_backend_url).subscribe(tokens => {\n        if (tokens && tokens.length > 0) {\n          if (sendMessage) {\n            // this.snackbar.dismiss();\n            this.createSnackbar('Status updated');\n          }\n        }\n        this.getAccountData();\n        return resolve();\n      })\n    });\n  }\n\n  resendEmailVerification() {\n    this.http.post(this.rSecure_backend_url + '/user/email_verification', null).toPromise().then(() => {\n      this.createSnackbar('Verification email sent');\n    });\n  }\n  /********************************\n  * replace with snackbar service *\n  ********************************/\n  createSnackbar(message: string) {\n    // let snackbarConfig: MatSnackBarConfig\n    // if (window.innerWidth >= 920) {\n    //   snackbarConfig = {\n    //     verticalPosition: 'bottom',\n    //     horizontalPosition: 'left',\n    //     duration: 5000\n    //   }\n    // } else {\n    //   snackbarConfig = {\n    //     verticalPosition: 'top',\n    //     duration: 5000\n    //   }\n    // }\n    // this.snackbar.open(message, null, snackbarConfig);\n  }\n\n  putAccountData(userData) {\n    if (userData.email) {\n      this.userData.email = userData.email;\n    }\n    if (userData.first_name && userData.last_name) {\n      this.userData.name = userData.first_name + ' ' + userData.last_name;\n      this.userData.initial = userData.first_name.charAt(0) + userData.last_name.charAt(0);\n    }\n    if (userData.phone) {\n      this.userData.phone = userData.phone || '';\n    }\n    this.http.put(this.backend_url + '/profiles/' + userData.id, userData).toPromise().then(() => {\n      this.userDataSubject.next(this.userData);\n    });\n  }\n\n  deleteAccount() {\n    return this.http.delete(this.backend_url).toPromise();\n  }\n\n  changePassword(email, oldPassword, newPassword) {\n    return this.http.put(this.backend_url + 'updatepassword', {\n      email,\n      oldPassword,\n      newPassword\n    }).toPromise();\n  }\n\n  getNameValidity(name) {\n    return this.http.get(this.backend_url + '/organizations/is_valid?name=' + name, this.getOptions())\n      .toPromise()\n      .then(res => {\n        return Promise.resolve(res);\n      });\n  }\n\n  createOrganization(body) {\n    return this.http.post(this.backend_url + '/organizations', body, this.getOptions())\n      .toPromise()\n      .then(res => {\n        return Promise.resolve(res);\n      });\n  }\n\n  private getOptions(): any {\n    const rTokenCookie = this.vTokenStateService.getOtherCookieObject('rAccount_Verdocs');\n    const authValue = 'Bearer ' + rTokenCookie['accessToken'];\n    const headers = new Headers({\n      'Cache-Control': 'no-cache',\n      'Pragma': 'no-cache',\n      'Expires': 'Sat, 01 Jan 2000 00:00:00 GMT',\n      'If-Modified-Since': '0',\n      'Content-Type': 'application/json',\n      'Authorization': authValue,\n      'Accept': 'application/json'\n    });\n    return { 'headers': headers };\n  }\n\n  public fetchToken(id: string, roleName: string, invite: string, redirectReq?: string) {\n    const req = this.rForm_backend_url + `/envelopes/${id}/recipients/${roleName}/invitation/${invite}`;\n    return this.http.get<any>(req, {observe: 'response'}).subscribe(res => {\n      this.vTokenStateService.storeOtherCookie('signer_token', res['headers'].get('signer_token'));\n      if (redirectReq) {\n        this.router.navigate([`/view/sign/${id}/role/${roleName}`], { queryParams: { redirectReq: redirectReq } });\n      } else {\n        this.router.navigate([`/view/sign/${id}/role/${roleName}`]);\n      }\n    }, err => {\n      this.router.navigate([`/view/sign/${id}/role/${roleName}`, { error: err }]);\n    });\n  }\n}\n"],"names":["observableThrowError","uuid","filter"],"mappings":"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"}