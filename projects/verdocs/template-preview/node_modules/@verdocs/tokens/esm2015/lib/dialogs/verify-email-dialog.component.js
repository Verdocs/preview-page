/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Inject, forwardRef } from '@angular/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';
import { VerdocsAuthGuardService } from '../services/authguard.service';
import { VerdocsStateService } from '../services/state.service';
export class VerifyEmailDialogComponent {
    /**
     * @param {?} dialogRef
     * @param {?} vTokenAuthGuard
     * @param {?} vTokenStateService
     * @param {?} data
     */
    constructor(dialogRef, vTokenAuthGuard, vTokenStateService, data) {
        this.dialogRef = dialogRef;
        this.vTokenAuthGuard = vTokenAuthGuard;
        this.vTokenStateService = vTokenStateService;
        this.data = data;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        setInterval((/**
         * @return {?}
         */
        () => {
            if (this.vTokenStateService.getEmailVerification()) {
                this.closeDialog();
            }
        }), 10000);
    }
    /**
     * @return {?}
     */
    signOut() {
        this.vTokenAuthGuard.signOut(window.location.href);
    }
    /**
     * @return {?}
     */
    resendEmailVerification() {
        this.data.resendEmailVerification();
    }
    /**
     * @return {?}
     */
    closeDialog() {
        this.dialogRef.close();
    }
}
VerifyEmailDialogComponent.decorators = [
    { type: Component, args: [{
                selector: 'verdocs-verify-email-dialog.component',
                template: "<div class=\"verify-email__container\">\n    <div class=\"verify-email__title\">\n        Confirm your email address\n    </div>\n    <div class=\"verify-email__content\">\n        We've sent a confirmation email to you at:\n        <br>\n        <span class=\"verify-email__content-email\">\n        {{data.emailAddress}}\n      </span>\n    </div>\n    <div class=\"verify-email__action\">\n        <button mat-button class=\"verify-email__action-button\" (click)=\"signOut()\">LOGOUT</button>\n        <button mat-button class=\"verify-email__action-button\" (click)=\"resendEmailVerification()\">RESEND EMAIL</button>\n    </div>\n</div>\n",
                styles: [".verify-email__container{width:640px}@media only screen and (max-width:960px){.verify-email__container{width:auto}}.verify-email__title{padding:0 0 14px;color:rgba(0,0,0,.87);font-size:20px;font-weight:500}.verify-email__content{color:rgba(0,0,0,.54)}.verify-email__content-email{padding-top:32px;display:block}.verify-email__action{height:52px;padding-top:10.5px;margin:24px -24px -24px 0;text-align:right}.verify-email__action-button{color:#3f5894;text-transform:uppercase;margin-left:-8px}"]
            }] }
];
/** @nocollapse */
VerifyEmailDialogComponent.ctorParameters = () => [
    { type: MatDialogRef },
    { type: VerdocsAuthGuardService, decorators: [{ type: Inject, args: [forwardRef((/**
                     * @return {?}
                     */
                    () => VerdocsAuthGuardService)),] }] },
    { type: VerdocsStateService, decorators: [{ type: Inject, args: [forwardRef((/**
                     * @return {?}
                     */
                    () => VerdocsStateService)),] }] },
    { type: undefined, decorators: [{ type: Inject, args: [MAT_DIALOG_DATA,] }] }
];
if (false) {
    /**
     * @type {?}
     * @private
     */
    VerifyEmailDialogComponent.prototype.dialogRef;
    /**
     * @type {?}
     * @private
     */
    VerifyEmailDialogComponent.prototype.vTokenAuthGuard;
    /**
     * @type {?}
     * @private
     */
    VerifyEmailDialogComponent.prototype.vTokenStateService;
    /** @type {?} */
    VerifyEmailDialogComponent.prototype.data;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyaWZ5LWVtYWlsLWRpYWxvZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdmVyZG9jcy90b2tlbnMvIiwic291cmNlcyI6WyJsaWIvZGlhbG9ncy92ZXJpZnktZW1haWwtZGlhbG9nLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQVUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbEUsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDeEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFTaEUsTUFBTSxPQUFPLDBCQUEwQjs7Ozs7OztJQUNyQyxZQUNVLFNBQW1ELEVBQ0EsZUFBd0MsRUFDNUMsa0JBQXVDLEVBQzlELElBQTJCO1FBSG5ELGNBQVMsR0FBVCxTQUFTLENBQTBDO1FBQ0Esb0JBQWUsR0FBZixlQUFlLENBQXlCO1FBQzVDLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBcUI7UUFDOUQsU0FBSSxHQUFKLElBQUksQ0FBdUI7SUFDekQsQ0FBQzs7OztJQUVMLFFBQVE7UUFDTixXQUFXOzs7UUFBQyxHQUFHLEVBQUU7WUFDZixJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsRUFBRSxFQUFFO2dCQUNsRCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7YUFDcEI7UUFDSCxDQUFDLEdBQUUsS0FBSyxDQUFDLENBQUM7SUFDWixDQUFDOzs7O0lBRUQsT0FBTztRQUNMLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckQsQ0FBQzs7OztJQUVELHVCQUF1QjtRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7SUFDdEMsQ0FBQzs7OztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3pCLENBQUM7OztZQWhDRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLHVDQUF1QztnQkFDakQsK29CQUFpRDs7YUFFbEQ7Ozs7WUFUUSxZQUFZO1lBQ1osdUJBQXVCLHVCQWEzQixNQUFNLFNBQUMsVUFBVTs7O29CQUFDLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixFQUFDO1lBWjVDLG1CQUFtQix1QkFhdkIsTUFBTSxTQUFDLFVBQVU7OztvQkFBQyxHQUFHLEVBQUUsQ0FBQyxtQkFBbUIsRUFBQzs0Q0FDNUMsTUFBTSxTQUFDLGVBQWU7Ozs7Ozs7SUFIdkIsK0NBQTJEOzs7OztJQUMzRCxxREFBbUc7Ozs7O0lBQ25HLHdEQUE4Rjs7SUFDOUYsMENBQTJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIE9uSW5pdCwgZm9yd2FyZFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nUmVmLCBNQVRfRElBTE9HX0RBVEEgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBWZXJkb2NzQXV0aEd1YXJkU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2F1dGhndWFyZC5zZXJ2aWNlJztcbmltcG9ydCB7IFZlcmRvY3NTdGF0ZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9zdGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB7IEVtYWlsVmVyaWZpY2F0aW9uRGF0YSB9IGZyb20gJy4uL21vZGVscy9lbWFpbC12ZXJpZmljYXRpb24tZGF0YS5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ZlcmRvY3MtdmVyaWZ5LWVtYWlsLWRpYWxvZy5jb21wb25lbnQnLFxuICB0ZW1wbGF0ZVVybDogJ3ZlcmlmeS1lbWFpbC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsndmVyaWZ5LWVtYWlsLWRpYWxvZy5jb21wb25lbnQuc2NzcyddXG59KVxuXG5leHBvcnQgY2xhc3MgVmVyaWZ5RW1haWxEaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPFZlcmlmeUVtYWlsRGlhbG9nQ29tcG9uZW50PixcbiAgICBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gVmVyZG9jc0F1dGhHdWFyZFNlcnZpY2UpKSBwcml2YXRlIHZUb2tlbkF1dGhHdWFyZDogVmVyZG9jc0F1dGhHdWFyZFNlcnZpY2UsXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IFZlcmRvY3NTdGF0ZVNlcnZpY2UpKSBwcml2YXRlIHZUb2tlblN0YXRlU2VydmljZTogVmVyZG9jc1N0YXRlU2VydmljZSxcbiAgICBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgcHVibGljIGRhdGE6IEVtYWlsVmVyaWZpY2F0aW9uRGF0YVxuICApIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnZUb2tlblN0YXRlU2VydmljZS5nZXRFbWFpbFZlcmlmaWNhdGlvbigpKSB7XG4gICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwMCk7XG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMudlRva2VuQXV0aEd1YXJkLnNpZ25PdXQod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICB9XG5cbiAgcmVzZW5kRW1haWxWZXJpZmljYXRpb24oKSB7XG4gICAgdGhpcy5kYXRhLnJlc2VuZEVtYWlsVmVyaWZpY2F0aW9uKCk7XG4gIH1cblxuICBjbG9zZURpYWxvZygpIHtcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSgpO1xuICB9XG59XG4iXX0=