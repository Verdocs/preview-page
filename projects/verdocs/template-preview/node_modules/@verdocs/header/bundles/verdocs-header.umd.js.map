{"version":3,"file":"verdocs-header.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@verdocs/header/lib/models/notification.interface.ts","ng://@verdocs/header/lib/models/verdocs.model.ts","ng://@verdocs/header/lib/services/templates.guard.ts","ng://@verdocs/header/lib/error-dialogs/four-oh-one.dialog.ts","ng://@verdocs/header/lib/services/header.service.ts","ng://@verdocs/header/lib/template/recipients/recipients-editor.component.ts","ng://@verdocs/header/lib/template/source-file/source-file.component.ts","ng://@verdocs/header/lib/template/visibility/visibility-editor.component.ts","ng://@verdocs/header/lib/header.component.ts","ng://@verdocs/header/lib/components/header-tools.component.ts","ng://@verdocs/header/lib/header.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export interface Notification {\n  id?: string;\n  profile_id: string;\n  data: object;\n  read: boolean;\n  deleted: boolean;\n  client_id: string;\n  message: string;\n  time: string;\n  event_id: string;\n}\n","export interface ITemplate {\n  template_documents?: ITemplateDocument[];\n  pages?: IPage[];\n  roles?: IRole[];\n  counter?: number;\n  name: string;\n  id?: string;\n  profile_id?: string;\n  created_at?: Date;\n  updated_at?: Date;\n  token?: string;\n  tags?: any[];\n  description?: string;\n  reminder_id?: string;\n  reminder?: object;\n  template_stars?: any[];\n  organization_id?: string;\n  is_personal?: boolean;\n  is_public?: boolean;\n  sender?: TemplateSenderTypes;\n  last_used?: { at: string }[];\n}\n\nexport interface Envelope {\n  id?: string;\n  template_id: string;\n  status?: string;\n  user_id: string;\n  envelope_document_id: string;\n  created_at?: Date;\n  updated_at?: Date;\n  canceled_at?: Date;\n  recipients?: Recipient[];\n  document?: IEnvelopeDocument;\n  component?: EnvelopeComponent;\n  histories?: IEnvelopeHistory[];\n}\n\nexport enum TemplateSenderTypes {\n  CREATOR = 'creator', // same as legacy\n  ORGANIZATION_MEMBER = 'organization_member',\n  ORGANIZATION_MEMBER_AS_CREATOR = 'organization_member_as_creator',\n  EVERYONE = 'everyone',\n  EVERYONE_AS_CREATOR = 'everyone_as_creator' // Creator would be sender of envelope no matter who creates the envelope\n}\n\nexport enum TemplatePermissions {\n  TEMPLATE_CREATOR_CREATE_PUBLIC = 'template:creator:create:public',\n  TEMPLATE_CREATOR_CREATE_ORG = 'template:creator:create:org',\n  TEMPLATE_CREATOR_CREATE_PERSONAL = 'template:creator:create:personal',\n  TEMPLATE_CREATOR_DELETE = 'template:creator:delete',\n  TEMPLATE_CREATOR_VISIBILITY = 'template:creator:visibility',\n  TEMPLATE_MEMBER_READ = 'template:member:read',\n  TEMPLATE_MEMBER_WRITE = 'template:member:write',\n  TEMPLATE_MEMBER_DELETE = 'template:member:delete',\n  TEMPLATE_MEMBER_VISIBILITY = 'template:member:visibility'\n};\n\nexport enum TemplateActions {\n  CREATE_PERSONAL = 'create_personal',\n  CREATE_ORG = 'create_org',\n  CREATE_PUBLIC = 'create_public',\n  READ = 'read',\n  WRITE = 'write',\n  DELETE = 'delete',\n  CHANGE_VISIBILITY_PERSONAL = 'change_visibility_personal',\n  CHANGE_VISIBILITY_ORG = 'change_visibility_org',\n  CHANGE_VISIBILITY_PUBLIC = 'change_visibility_public'\n}\n\nexport interface IRole {\n  id?: string;\n  template_id: string;\n  name: string;\n  full_name?: string;\n  old_name?: string;\n  email?: string;\n  type: string;\n  sequence: number;\n  fields?: IField[];\n  message?: string;\n  rgba?: string;\n  delegator: boolean;\n}\n\nexport interface IPage {\n  template_id: string;\n  document_id: string;\n  document?: ITemplateDocument;\n  sequence: number;\n  page_number: number;\n  thumbnail_url?: string;\n  thumbnail_safe?: any;\n  fields?: IField[];\n}\n\nexport interface IField {\n  label: string;\n  name: string;\n  role_name: string;\n  template_id: string;\n  type: string;\n  required: boolean;\n  setting: Object;\n  page_sequence: number;\n  validator?: string;\n}\n\nexport interface ITemplateDocument {\n  url: string;\n  name: string;\n  page_numbers: number;\n  id?: string;\n  updated_at?: Date;\n  created_at?: Date;\n  template_id: string;\n  thumbnail_url: string;\n  thumbnail_safe?: any;\n  mime: string;\n}\n\nexport interface IEnvelopeDocument {\n  id?: string;\n  url: string;\n  name: string;\n  created_at?: Date;\n  updated_at?: Date;\n  page_numbers: number;\n  mime: string;\n}\n\nexport interface IEnvelopeHistory {\n  id?: string;\n  envelope_id?: string;\n  role_name?: string;\n  event: string;\n  event_detail?: string;\n  created_at: Date;\n}\n\nexport interface IActivity {\n  date: string;\n  log: string;\n  icon: string;\n}\n\nexport interface Recipient {\n  role_name: string;\n  envelope_id: string;\n  status: string;\n  email: string;\n  full_name: string;\n  sequence: number;\n  type: string;\n  user_id: string;\n  created_at: Date;\n  updated_at: Date;\n  token: string;\n  message: string;\n  signatureUrl?: any,\n  signatures: IEnvelopeSignature[],\n  rgba?: string\n}\n\nexport interface IEnvelopeSignature {\nenvelope_id: string;\nsignature_id: string;\nrole_name: string;\nsigned_at?: Date;\nip_address?: string;\nhash?: string;\n}\n\nexport interface EnvelopeComponent {\n  progress?: number;\n  status_color?: string;\n  selected_format_time?: string;\n  format_time?: string;\n  selected?: boolean;\n  envelope__list__class?: string;\n}\n\nexport interface IEnvelopeSearchParams {\n  envelope_status?: string[];\n  recipient_status?: string[];\n  envelope_name?: string;\n  recipient_name?: string;\n  recipient_email?: string;\n  updated_at?: ITimePeriod;\n  canceled_at?: ITimePeriod;\n  created_at?: ITimePeriod;\n  text_field_value?: string;\n  is_owner?: boolean;\n  is_recipient?: boolean;\n  sort_by?: SortOptions;\n  ascending?: boolean;\n  row?: number;\n  page?: number;\n  template_id?: string;\n  recipient_claimed?: boolean;\n}\n\nexport interface ITimePeriod {\n  start_time: string; // Date\n  end_time: string; // Date\n}\n\nexport enum SortOptions {\n  created_at = 'created_at',\n  updated_at = 'updated_at',\n  envelope_name = 'envelope_name',\n  canceled_at = 'canceled_at',\n  envelope_status = 'envelope_status'\n}\n\nexport interface ITemplateSearchParams {\n  name?: string;\n  sender?: string;\n  description?: string;\n  profile_id?: string;\n  organization_id?: string;\n  updated_at?: ITimePeriod;\n  created_at?: ITimePeriod;\n  last_used_at?: ITimePeriod;\n  is_personal?: boolean;\n  is_public?: boolean;\n  tags?: string[];\n  document_name?: string;\n  sort_by?: TemplateSortOptions;\n  ascending?: boolean;\n  row?: number;\n  page?: number;\n}\n\nexport enum TemplateSortOptions {\n  CREATED_AT = 'created_at',\n  UPDATED_AT = 'updated_at',\n  NAME = 'name',\n  LAST_USED_AT = 'last_used_at',\n  COUNTER = 'counter',\n  STAR_COUNTER = 'star_counter'\n}\n","import { VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { intersection } from 'lodash';\n\nimport { Injectable } from '@angular/core';\nimport { ITemplate, TemplateActions, TemplatePermissions, TemplateSenderTypes } from '../models/verdocs.model';\n\n@Injectable()\nexport class TemplatesGuardService {\n\n\n  constructor(\n    private vTokenObjectService: VerdocsTokenObjectService\n  ) { }\n\n\n  public canPerformAction(action: TemplateActions, template: ITemplate): { canPerform: boolean, message: string } {\n    try {\n      let canPerform = false;\n      let message = null;\n      const neededPermissions = [];\n      if (!template && action && !action.includes('create')) {\n        throw {\n          error:\n            'You need to provide template object'\n        }\n      }\n      const userProfile = this.vTokenObjectService.getProfile();\n      const isCreator = userProfile ? template && template.profile_id === userProfile.id : false;\n      const isSameOrg = userProfile ? template && template.organization_id === userProfile.organization_id : false;\n      const isPersonal = template ? template.is_personal : null;\n      const isPublic = template ? template.is_public : null;\n      switch (action) {\n        case TemplateActions.CREATE_PERSONAL:\n          neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_PERSONAL)\n          break;\n        case TemplateActions.CREATE_ORG:\n          neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_ORG);\n          break;\n        case TemplateActions.CREATE_PUBLIC:\n          neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_PUBLIC)\n          break;\n        case TemplateActions.READ:\n          if (!isCreator) {\n            if ((!isPersonal && isSameOrg) || !isPublic) {\n              neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_READ);\n            }\n          }\n          break;\n        case TemplateActions.WRITE:\n          if (!isCreator) {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_READ);\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_WRITE);\n          }\n          break;\n        case TemplateActions.CHANGE_VISIBILITY_PERSONAL:\n          if (isCreator) {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_PERSONAL);\n            // neededPermission.push(TemplatePermissions.TEMPLATE_CREATOR_VISIBILITY);\n          } else {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_VISIBILITY);\n          }\n          break;\n        case TemplateActions.CHANGE_VISIBILITY_ORG:\n          if (isCreator) {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_ORG);\n            // neededPermission.push(TemplatePermissions.TEMPLATE_CREATOR_VISIBILITY);\n          } else {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_VISIBILITY);\n          }\n          break;\n        case TemplateActions.CHANGE_VISIBILITY_PUBLIC:\n          if (isCreator) {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_CREATE_PUBLIC);\n            neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_VISIBILITY);\n          } else {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_VISIBILITY);\n          }\n          break;\n        case TemplateActions.DELETE:\n          if (isCreator) {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_CREATOR_DELETE);\n          } else {\n            neededPermissions.push(TemplatePermissions.TEMPLATE_MEMBER_DELETE);\n          }\n          break;\n        default:\n          throw {\n            error: 'Action is not defined'\n          }\n      }\n      if (this.hasPermissions(neededPermissions)) {\n        canPerform = true;\n      } else {\n        message = `Insufficient access to perform '${action}'. Needed permissions: ${neededPermissions.toString()}`;\n      }\n      return {\n        canPerform,\n        message\n      }\n    } catch (err) {\n      console.error({\n        message: `Failed to check whether action (${action}) can be done, in TemplateGuardService`,\n        err: err\n      });\n    }\n  }\n\n  private hasPermissions(requiredPermissions: string[]) {\n    const userPermissions = this.vTokenObjectService.getPermissions();\n    const hasPermissions = intersection(userPermissions, requiredPermissions).length === requiredPermissions.length;\n    return hasPermissions;\n  }\n\n  public canBeSender(template): boolean {\n    const userProfile = this.vTokenObjectService.getProfile();\n    if (!userProfile) {\n      return false;\n    }\n    switch (template.sender) {\n      case TemplateSenderTypes.CREATOR:\n        return userProfile.id === template.profile_id;\n      case TemplateSenderTypes.ORGANIZATION_MEMBER:\n      case TemplateSenderTypes.ORGANIZATION_MEMBER_AS_CREATOR:\n        return userProfile.id === template.profile_id || template.organization_id === userProfile.organization_id;\n      default:\n        return true;\n    }\n  }\n\n  canUserCreateTemplate() {\n    return this.canPerformAction(TemplateActions.CREATE_PERSONAL, null)['canPerform']\n      || this.canPerformAction(TemplateActions.CREATE_ORG, null)['canPerform']\n      || this.canPerformAction(TemplateActions.CREATE_PUBLIC, null)['canPerform']\n  }\n\n}\n","import { Component, OnInit, Injector } from '@angular/core';\nimport { VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { Router } from '@angular/router';\n\nimport { connectionConfig, connectionConfigToken } from '../header.module';\n\n@Component({\n  selector: 'four-oh-one-dialog',\n  templateUrl: './four-oh-one.dialog.html',\n  styleUrls: ['./four-oh-one.dialog.scss']\n})\nexport class FourOhOneDialog implements OnInit {\n  public error: any = null;\n  public tokenConfig: connectionConfig\n  public currentProfile: any = null;\n  public error_code: string = null;\n  public error_title: string = null;\n  public error_message: string = null;\n  public rSecureUrl: string;\n  public rFormUrl: string;\n\n  constructor(\n    private router: Router,\n    private verdocsTokenObjectService: VerdocsTokenObjectService,\n    private injector: Injector\n  ) {\n    this.tokenConfig = this.injector.get(connectionConfigToken);\n    this.rSecureUrl = this.tokenConfig.rSecure_frontend_url;\n    this.rFormUrl = this.tokenConfig.rForm_frontend_url;\n  }\n\n  ngOnInit() {\n    this.currentProfile = this.verdocsTokenObjectService.getProfile();\n    if (this.error && this.error.hasOwnProperty('error')) {\n      this.error_code = this.error.error.code || null;\n      if (this.error_code) {\n        this.prepareErroContent();\n      }\n    }\n  }\n\n  prepareErroContent() {\n    switch(this.error_code) {\n      case 'AUTH0002':\n      case 'T000001':\n      this.error_title = 'This document is not accessible';\n      this.error_message = (this.currentProfile ? 'Try using a different organization/account, ' : 'Try signing in, signing up, ') + 'or requesting access from the owner of this document.';\n      break;\n      case 'AUTH0003':\n      this.error_title = 'Cannot complete your request';\n      this.error_message = 'Try after ' + (this.currentProfile ? 'signing in again.' : 'signing in or signing up.');\n      break;\n      default:\n      this.error_title = 'Your request has been denied.';\n      this.error_message = null;\n      break;\n    }\n  }\n\n  goToDashboard() {\n    this.router.navigate(['/dashboard']);\n  }\n\n  signIn() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/login?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n\n  signUp() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/signup?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n}\n","import { Injectable, Injector, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformServer, isPlatformBrowser } from '@angular/common'\nimport { HttpClient, HttpResponse, HttpRequest, HttpHeaders } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ReplaySubject, Subject, BehaviorSubject, EMPTY, Observable } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { findIndex, filter } from 'lodash';\nimport { saveAs } from 'file-saver';\nimport { ProfileModel, ProfileCollection } from '@verdocs/profiles';\nimport { VerdocsStateService, VerdocsTokenObjectService } from '@verdocs/tokens';\n\nimport { connectionConfig, connectionConfigToken } from '../header.module';\nimport { TemplatesGuardService } from './templates.guard';\n\nimport { ITemplate, Envelope, IEnvelopeSearchParams, ITemplateSearchParams, IEnvelopeDocument, TemplateActions } from '../models/verdocs.model';\n\nimport { FourOhOneDialog } from '../error-dialogs/four-oh-one.dialog';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VerdocsHeaderService {\n\n  public tokenConfig: connectionConfig;\n  public titleSubject = new ReplaySubject<string>();\n  public csvBlobSubject = new ReplaySubject<Blob>();\n  public templates: Subject<ITemplate[]> = new Subject<ITemplate[]>();\n  public saveStatusSubject: ReplaySubject<string> = new ReplaySubject<string>();\n  public templateDetailToggleSubject: Subject<boolean> = new Subject<boolean>();\n  public profileLoadingSubject = new ReplaySubject<boolean>();\n  public templateSubject: Subject<ITemplate> = new Subject<ITemplate>();\n  public template: ITemplate;\n  public allEnvelopes = new BehaviorSubject<Envelope[]>([]);\n  public sideNavStateSubject: ReplaySubject<boolean> = new ReplaySubject();\n  public initiateBuilderAutofocus: ReplaySubject<boolean> = new ReplaySubject();\n  public createToggleSubscription: Subject<boolean> = new Subject<boolean>();\n  public rAccount_url: string;\n  public rSecure_url: string;\n  public rForm_url: string;\n\n  private envUrl: string;\n  private _toggleSidenavSource = new BehaviorSubject<boolean>(false);\n  private _title = new BehaviorSubject<string>('');\n  private _selected = new BehaviorSubject<boolean>(false);\n  private _pdfUrl = new BehaviorSubject<string>('');\n  private _env = new BehaviorSubject<Envelope>({\n    id: '',\n    template_id: '',\n    status: '',\n    user_id: '',\n    envelope_document_id: ''\n  });\n  private _envDoc = new BehaviorSubject<IEnvelopeDocument>({\n    id: '',\n    url: '',\n    name: '',\n    page_numbers: 0,\n    mime: '',\n  });\n  private builderSideNavState: boolean;\n  private userFullname = '';\n  private userInitial = '';\n  private userEmail = '';\n  private userPhone = '';\n  private userData = {\n    name: this.userFullname,\n    initial: null,\n    email: this.userEmail,\n    phone: this.userPhone\n  };\n  private profileData: any;\n  private isAtOrigin: boolean = false;\n  private currentOrigin: 'rAccount' | 'rForm' | 'rSecure' | null;\n  private currentOrganizationId: string = null;\n  public sidenavOpened = false;\n\n  toggleSidenav$ = this._toggleSidenavSource.asObservable();\n  selectStatus$ = this._selected.asObservable();\n  env$ = this._env.asObservable();\n  titleValue$ = this._title.asObservable();\n  pdfUrl$ = this._pdfUrl.asObservable();\n  envDoc$ = this._envDoc.asObservable();\n  public userDataSubject = new ReplaySubject<any>();\n  public userProfileSubject = new ReplaySubject<any>();\n  public currentProfileSubject = new ReplaySubject<any>();\n  public personalAccountSubject = new ReplaySubject<any>();\n  public profilesSubject = new ReplaySubject<any>();\n\n  constructor(\n    private injector: Injector,\n    private http: HttpClient,\n    private router: Router,\n    private snackbar: MatSnackBar,\n    private dialog: MatDialog,\n    private templateGuard: TemplatesGuardService,\n    private vTokenStateService: VerdocsStateService,\n    private vTokenObjectService: VerdocsTokenObjectService,\n    @Inject(PLATFORM_ID) private platform\n  ) {\n    this.tokenConfig = this.injector.get(connectionConfigToken);\n    this.envUrl = this.tokenConfig.rForm_backend_url + '/envelopes';\n    this.rForm_url = this.tokenConfig.rForm_frontend_url;\n    this.rAccount_url = this.tokenConfig.rAccount_frontend_url;\n    this.rSecure_url = this.tokenConfig.rSecure_frontend_url;\n  }\n\n  public getAtOrigin(originType) {\n    this.isAtOrigin = originType && this.tokenConfig.origin && originType === this.tokenConfig.origin;\n    return this.isAtOrigin;\n  }\n\n  public toggleSidenav(bool) {\n    this.updateToggleStatus(bool);\n    this._toggleSidenavSource.next(this.sidenavOpened);\n  }\n\n  public updateToggleStatus(bool) {\n    this.sidenavOpened = bool;\n  }\n\n  public updateTitle(string) {\n    this._title.next(string);\n  }\n\n  public updateSelectStatus(bool) {\n    this._selected.next(bool);\n  }\n\n  public updatePdfUrl(string) {\n    this._pdfUrl.next(string);\n  }\n\n  public updateEnv(string) {\n    this._env.next(string);\n  }\n\n  public updateEnvDoc(IEnvelopeDocument) {\n    this._envDoc.next(IEnvelopeDocument);\n  }\n\n  initNotificationService() { }\n\n  public updateEnvelopes(envelopes) {\n    this.allEnvelopes.next(envelopes);\n  }\n\n  public toggleCreate() {\n    this.createToggleSubscription.next(true);\n  }\n\n  searchEnvelopes(searchParams: IEnvelopeSearchParams) {\n    for (const key in searchParams) {\n      if (searchParams.hasOwnProperty(key)) {\n        if (searchParams[key] === null) {\n          delete searchParams[key];\n        }\n      }\n    }\n    return this.http.request(new HttpRequest(\n      'POST',\n      this.envUrl + '/search',\n      searchParams,\n      {\n        reportProgress: true,\n        responseType: 'json'\n      }\n    )).pipe(\n      map(event => {\n        if (event instanceof HttpResponse) {\n          this.updateEnvelopes(event.body);\n        }\n        return event;\n      })\n    );\n  }\n\n  searchTemplates(searchParams: ITemplateSearchParams) {\n    for (const key in searchParams) {\n      if (searchParams.hasOwnProperty(key)) {\n        if (searchParams[key] === null) {\n          delete searchParams[key];\n        }\n      }\n    }\n    return this.http.request(new HttpRequest(\n      'POST',\n      this.tokenConfig.rForm_backend_url + '/templates/search',\n      searchParams,\n      {\n        reportProgress: true,\n        responseType: 'json'\n      }\n    )).pipe(\n      map(event => {\n        return event;\n      })\n    );\n  }\n\n  downloadTemplateDocument(template: ITemplate) {\n    this.getTemplateDocument(template.id, template.template_documents[0]).then(template_file => {\n      if (isPlatformBrowser(this.platform)) {\n        if (window && window.URL) {\n          const fileUrl = URL.createObjectURL(template_file);\n          saveAs(fileUrl, template.template_documents[0].name + '.pdf');\n        }\n      }\n    });\n  }\n\n  getTemplateDocument(templateId, templateDocument) {\n    return this.http.get(this.tokenConfig.rForm_backend_url + '/templates/' + templateId + '/documents/' +\n      templateDocument.id + '?file=true', { responseType: 'blob' }).toPromise();\n  }\n\n  updateTemplates(templates) {\n    this.templates.next(templates);\n  }\n\n  toggleBuilderSideNav() {\n    this.builderSideNavState = !this.builderSideNavState;\n    this.sideNavStateSubject.next(this.builderSideNavState);\n    if (this.builderSideNavState === false) {\n      this.initiateBuilderAutofocus.next(false);\n    }\n  }\n\n  canUserEdit(template: ITemplate) {\n    const response = this.templateGuard.canPerformAction(TemplateActions.WRITE, template);\n    return response['canPerform']\n  }\n\n  updateTemplate(templateId: string, body): Promise<ITemplate> {\n    return this.http\n      .put<ITemplate>(this.tokenConfig.rForm_backend_url + '/templates/' + templateId, body)\n      .toPromise().then(template => template);\n  }\n\n  openTemplate(template: ITemplate) {\n    if (this.canUserPreview(template)) {\n      location.href = `${this.tokenConfig.rForm_frontend_url}/document/${template.id}`;\n    } else if (this.canUserEdit(template)) {\n      location.href = `${this.tokenConfig.rForm_frontend_url}/builder/${template.id}/fields`;\n    } else {\n      this.snackbar.open(`Template is in build mode, and not ready for use.  Please check back soon.`)\n    }\n  }\n\n  openTemplates(searchKeyword?: string) {\n    if (this.tokenConfig.origin === 'rForm') {\n      if (searchKeyword.trim() !== '') {\n        this.router.navigate(['documents'], { queryParams: { name: searchKeyword } });\n      } else {\n        this.router.navigate(['documents']);\n      }\n    } else {\n      if (searchKeyword.trim() !== '') {\n        location.href = `${this.tokenConfig.rForm_frontend_url}/documents?name=${searchKeyword}`;\n      } else {\n        location.href = `${this.tokenConfig.rForm_frontend_url}/documents`;\n      }\n    }\n  }\n\n  getTemplateOwnerInfo(id: string): Promise<{ profile_id: string, email: string, name: string }> {\n    return this.http.get<{ profile_id: string, email: string, name: string }>(`${this.tokenConfig.rForm_backend_url}/templates/${id}?owner_info=true`)\n      .toPromise().then(res => {\n        return res;\n      });\n  }\n\n  canUserPreview(template: ITemplate) {\n    const hasPermission = (this.templateGuard.canPerformAction(TemplateActions.READ, template)).canPerform;\n    let canPreview;\n    const roles = template.roles;\n    const signers = filter(roles, { type: 'signer' });\n    canPreview = signers && signers.length > 0;\n    for (const signer of signers) {\n      canPreview = signer['fields'] && signer['fields'].length > 0;\n    }\n    return hasPermission && canPreview;\n  }\n\n  starTemplate(id): Observable<any> {\n    return this.http.post(this.tokenConfig.rForm_backend_url + `/templates/${id}/stars`, {}).pipe(\n      catchError(err => {\n        if (err && err.status === 401) {\n          const errorDialog = this.dialog.open(FourOhOneDialog, {\n            panelClass: 'error__dialog',\n            disableClose: true\n          })\n          errorDialog.componentInstance.error = err;\n        }\n        return EMPTY\n      }),\n      map(res => res)\n    );\n  }\n\n  unstarTemplate(id): Observable<any> {\n    return this.http.delete(this.tokenConfig.rForm_backend_url + `/templates/${id}/stars`).pipe(\n      catchError(err => {\n        if (err && err.status === 401) {\n          const errorDialog = this.dialog.open(FourOhOneDialog, {\n            panelClass: 'error__dialog',\n            disableClose: true\n          })\n          errorDialog.componentInstance.error = err;\n        }\n        return EMPTY\n      }),\n      map(res => res)\n    );\n  }\n\n  //Account Services\n  async updateTokens(sendMessage?: boolean) {\n    return new Promise((resolve, reject) => {\n      this.vTokenStateService.updateTokens(this.tokenConfig.rSecure_backend_url).subscribe(tokens => {\n        if (tokens && tokens.length > 0) {\n          if (sendMessage) {\n            this.snackbar.dismiss();\n            this.snackbar.open('Status updated');\n          }\n        }\n        this.getAccountData();\n        return resolve();\n      })\n    });\n  }\n\n  getAccountData() {\n    // might need if header needs to show condition\n    const profile = this.vTokenObjectService.getProfile();\n    if (profile) {\n      this.getProfiles();\n    }\n  }\n\n  getProfiles() {\n    return this.http.get(this.tokenConfig.rAccount_backend_url + '/profiles').toPromise().then((res: any[]) => {\n      const personal = res.splice(findIndex(res, p => p.organization.name === 'realster'), 1);\n      this.personalAccountSubject.next(personal[0]);\n      this.profileData = res.sort((a, b) => {\n        if (a.organization.name < b.organization.name) {\n          return -1;\n        }\n        if (a.organization.name > b.organization.name) {\n          return 1;\n        }\n        return 0;\n      });\n      this.profileData.unshift(personal[0]);\n      const currentIndex = findIndex(this.profileData, { current: true });\n      if (this.profileData[currentIndex]['first_name']) {\n        this.userFullname = this.profileData[currentIndex]['first_name'] + ' ' + this.profileData[currentIndex]['last_name'];\n        this.userInitial = this.profileData[currentIndex]['first_name'].charAt(0) +\n          this.profileData[currentIndex]['last_name'].charAt(0);\n      } else {\n        this.userFullname = '';\n      }\n      if (this.profileData[currentIndex]['phone']) {\n        this.userPhone = this.profileData[currentIndex]['phone'];\n      } else {\n        this.userPhone = '';\n      }\n      if (this.profileData[currentIndex]['email']) {\n        this.userEmail = this.profileData[currentIndex]['email'];\n      }\n      this.userData = {\n        name: this.userFullname,\n        initial: this.userInitial,\n        email: this.userEmail,\n        phone: this.userPhone\n      };\n      this.userProfileSubject.next(this.profileData);\n      const currentProfile = this.profileData[currentIndex];\n      this.currentProfileSubject.next(currentProfile);\n      this.currentOrganizationId = currentProfile.organization_id;\n      this.userDataSubject.next(this.userData);\n      return this.userData;\n    });\n  }\n\n  getProfileCollection(profiles) {\n    const profileModels: ProfileModel[] = [];\n    profiles.forEach(profile => {\n      profileModels.push(new ProfileModel(profile));\n    });\n    const profileCollection = new ProfileCollection(profileModels);\n    return profileCollection;\n  }\n\n  switchProfile(profile_id) {\n    this.profileLoadingSubject.next(true);\n    return this.http.post(this.tokenConfig.rAccount_backend_url + '/profiles/' + profile_id + '/switch', null).toPromise().then(async (res: any) => {\n      this.vTokenStateService.setTokens(res.tokens);\n      this.profileLoadingSubject.next(false);\n      return Promise.resolve(res);\n    });\n  }\n\n  resendEmailVerification() {\n    this.http.post(this.tokenConfig.rSecure_backend_url + '/user/email_verification', null).toPromise().then(() => {\n      this.snackbar.open('Verification email sent');\n    });\n  }\n\n  getNameValidity(name) {\n    return this.http.get(this.tokenConfig.rAccount_backend_url + '/organizations/is_valid?name=' + name, this.getOptions())\n      .toPromise()\n      .then(res => {\n        return Promise.resolve(res);\n      });\n  }\n\n  createOrganization(body) {\n    return this.http.post(this.tokenConfig.rAccount_backend_url + '/organizations', body, this.getOptions())\n      .toPromise()\n      .then(res => {\n        return Promise.resolve(res);\n      });\n  }\n\n  private getOptions(): any {\n    if (isPlatformServer(this.platform)) {\n      return;\n    }\n    const vTokenCookie = this.vTokenStateService.getOtherCookieObject('rAccount_Verdocs');\n    const authValue = 'Bearer ' + vTokenCookie['accessToken'];\n    const headers = new HttpHeaders({\n      'Cache-Control': 'no-cache',\n      'Pragma': 'no-cache',\n      'Expires': 'Sat, 01 Jan 2000 00:00:00 GMT',\n      'If-Modified-Since': '0',\n      'Content-Type': 'application/json',\n      'Authorization': authValue,\n      'Accept': 'application/json'\n    });\n    return { headers };\n  }\n\n  // End of Account Services\n\n  getRoleColor(name, index?) {\n    if (index) {\n      return this.getRGBA(index);\n    } else if (this.template && this.template.roles && this.template.roles.length > 0) {\n      index = findIndex(this.template.roles, { name: name });\n      if (index >= 0) {\n        return this.template.roles[index].rgba ? this.template.roles[index].rgba : this.getRGBA(index);\n      } else {\n        return this.nameToRGBA(name);\n      }\n    } else {\n      return this.nameToRGBA(name);\n    }\n  }\n\n  getRGB(rgba) {\n    const rgbNumbers = rgba.replace('rgba(', '').replace(')', '').split(',');\n    const rgbObject = {\n      red: rgbNumbers[0],\n      green: rgbNumbers[1],\n      blue: rgbNumbers[2],\n      alpha: rgbNumbers[3]\n    };\n    const alpha = 1 - rgbObject.alpha;\n    const red = Math.round((rgbObject.alpha * (rgbObject.red / 255) + alpha) * 255);\n    const green = Math.round((rgbObject.alpha * (rgbObject.green / 255) + alpha) * 255);\n    const blue = Math.round((rgbObject.alpha * (rgbObject.blue / 255) + alpha) * 255);\n    return ('#' + this.rgbToHex(red) + this.rgbToHex(green) + this.rgbToHex(blue));\n  }\n\n  rgbToHex(rgb: number) {\n    const hex = rgb.toString(16);\n    if (hex.length < 2) {\n      return '0' + hex;\n    }\n    return hex;\n  }\n\n  getRGBA(index) {\n    switch (index % 10) {\n      case 0:\n        return index === 0 ? 'rgba(255, 193, 7, 0.4)' : 'rgba(134, 134, 134, 0.3)'; //#FFE69C\n      case 1:\n        return 'rgba(156, 39, 176, .4)'; //'#E3C3E9'\n      case 2:\n        return 'rgba(33, 150, 243, .4)'; //'#C1E1FB'\n      case 3:\n        return 'rgba(220, 231, 117, 0.3)';\n      case 4:\n        return 'rgba(121, 134, 203, 0.3)';\n      case 5:\n        return 'rgba(77, 182, 172, 0.3)';\n      case 6:\n        return 'rgba(255, 202, 165, 0.3)';\n      case 7:\n        return 'rgba(2, 247, 190, 0.3)';\n      case 8:\n        return 'rgba(255, 138, 101, 0.3)';\n      case 9:\n        return 'rgba(82, 255, 79, 0.3)';\n      default:\n        return 'rgba(229, 115, 155, 0.3)';\n    }\n  }\n\n  nameToRGBA(str) {\n    if (!!str) {\n      const validNum = parseInt(str.slice(-1), 10);\n      if (!isNaN(validNum)) {\n        str += (validNum * 99).toString();\n      }\n      let hash = 0;\n      for (let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n      }\n      hash = Math.round(hash / 1.3);\n      const c = (hash & 0x00FFFF08)\n        .toString(16)\n        .toUpperCase();\n      const hex = '#' + '00000'.substring(0, 6 - c.length) + c;\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n      const color = {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      };\n      return `rgba(${color.r}, ${color.g}, ${color.b}, 0.2)`;\n    }\n  }\n}\n","import { Component, Input, OnChanges } from '@angular/core';\nimport { VerdocsTokenObjectService } from '@verdocs/tokens';\n\nimport { VerdocsHeaderService } from '../../services/header.service';\nimport { ITemplate, TemplateSenderTypes } from '../../models/verdocs.model';\n\n@Component({\n  selector: 'app-recipient-editor',\n  templateUrl: './recipients-editor.component.html',\n  styleUrls: ['./recipients-editor.component.scss']\n})\nexport class RecipientEditorComponent implements OnChanges{\n  public roles = [];\n  public sender = 'creator';\n  public sender_name = '';\n\n  @Input() template: ITemplate;\n\n  constructor(\n    private verdocsHeaderService: VerdocsHeaderService,\n    private vTokenObjectService: VerdocsTokenObjectService\n  ) {}\n\n  ngOnChanges() {\n    this.prepareSender();\n    this.prepareExistingRoles();\n  }\n\n  async prepareSender() {\n    this.sender = this.template.sender || 'creator';\n    await this.updateSenderName();\n  }\n\n  async updateSenderName() {\n    const profile = this.vTokenObjectService.getProfile();\n    const ownerInfo = await this.verdocsHeaderService.getTemplateOwnerInfo(this.template.id);\n    switch (this.sender) {\n      case TemplateSenderTypes.ORGANIZATION_MEMBER:\n        this.sender_name = 'Anyone at ' + (profile ? profile.organization.name : 'organization');\n        break;\n      case TemplateSenderTypes.EVERYONE:\n        this.sender_name = 'Anyone';\n        break;\n      case TemplateSenderTypes.EVERYONE_AS_CREATOR:\n      case TemplateSenderTypes.CREATOR:\n      case TemplateSenderTypes.ORGANIZATION_MEMBER_AS_CREATOR:\n        if (profile && this.template.profile_id === profile.id) {\n          this.sender_name = profile.first_name + ' ' + profile.last_name + ' (me)';\n        } else {\n          this.sender_name = ownerInfo.name + ' (creator)';\n        }\n        break;\n    }\n  }\n\n  prepareExistingRoles(recipients?) {\n    let roles = []\n    if (recipients && recipients.length > 0) {\n      roles = recipients;\n    } else {\n      roles = this.template.roles.sort((a, b) => {\n        return a.sequence - b.sequence;\n      }).slice();\n    }\n\n    roles = this.setStyles(roles);\n    this.roles = [];\n    for (let roleIndex = 0; roleIndex < roles.length; roleIndex++) {\n      if (roles[roleIndex]) {\n        const sequenceIndex = roles[roleIndex].sequence - 1;\n        if (!roles[roleIndex]['status']) {\n          roles[roleIndex]['status'] = null;\n        }\n        if (!roles[roleIndex]['old_name']) {\n          roles[roleIndex]['old_name'] = roles[roleIndex].name;\n        }\n        if (this.roles[sequenceIndex] === undefined) {\n          this.roles[sequenceIndex] = [roles[roleIndex]];\n        } else {\n          this.roles[sequenceIndex].push(roles[roleIndex]);\n        }\n      }\n    }\n    if (this.roles && this.roles.length === 0 && !this.roles[0]) {\n      this.roles = []\n      this.roles[0] = []\n    }\n  }\n\n  setStyles(roles) {\n    roles.forEach((role, index) => {\n      if (role) {\n        if (role.full_name && role.email) {\n          role['style'] = {\n            'border': '1px solid ' + this.verdocsHeaderService.getRGBA(index),\n            'background-color': 'transparent'\n          }\n        } else {\n          role['style'] = {\n            'background': this.verdocsHeaderService.getRGBA(index),\n            'border': '1px solid getRGBA(index)'\n          }\n        }\n      }\n    });\n    return roles;\n  }\n}\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { VerdocsHeaderService } from '../../services/header.service';\nimport { ITemplate } from '../../models/verdocs.model';\n\n@Component({\n  selector: 'app-template-source',\n  templateUrl: './source-file.component.html',\n  styleUrls: ['./source-file.component.scss']\n})\n\nexport class TemplateSourceComponent implements OnChanges{\n  \n  @Input() template: ITemplate;\n\n  constructor(\n    private templatesService: VerdocsHeaderService\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['template']) {\n\n    }\n  }\n\n  downloadTemplateDocument() {\n    this.templatesService.downloadTemplateDocument(this.template);\n  }\n\n}\n","import { Component, Input, OnInit, OnChanges, OnDestroy } from '@angular/core';\n\nimport { VerdocsHeaderService } from '../../services/header.service';\nimport { TemplatesGuardService } from '../../services/templates.guard';\nimport { ITemplate, TemplateActions } from '../../models/verdocs.model';\n\n@Component({\n  selector: 'app-preview-visibility',\n  templateUrl: 'visibility-editor.component.html',\n  styleUrls: ['./visibility-editor.component.scss']\n})\nexport class VisibilityEditorComponent implements OnInit, OnChanges, OnDestroy {\n  public template_visibility;\n  public updateVisibility = false;\n  public isSaving = false;\n\n  @Input() visibility;\n  @Input() isEditMode = false;\n  @Input() template;\n\n  private _canShareWithOrg = null;\n  private _canMakeItPrivate = null;\n  private _canShareWithPublic = null;\n\n  constructor(\n    private templateGuard: TemplatesGuardService,\n    private verdocsHeaderService: VerdocsHeaderService\n  ) { }\n\n  ngOnInit() {\n    this.template_visibility = this.getTemplateVisibility();\n  }\n  ngOnChanges() {\n    this.template_visibility = this.getTemplateVisibility();\n  }\n  ngOnDestroy() {\n    this.template_visibility = undefined;\n  }\n\n  getTemplateVisibility() {\n    if (this.visibility) {\n      if (this.visibility.is_personal) {\n        if (this.visibility.is_public) {\n          return 'personal & public'\n        } else {\n          return 'personal';\n        }\n      } else {\n        if (this.visibility.is_public) {\n          return 'public & org';\n        } else {\n          return 'org';\n        }\n      }\n    }\n    return undefined;\n  }\n\n  setUpdateVisibility() {\n    const original_visibility = this.getTemplateVisibility();\n    this.updateVisibility = original_visibility !== this.template_visibility;\n  }\n\n  async saveChanges() {\n    this.isSaving = true;\n    const body = {};\n      if (this.updateVisibility && this.template) {\n        switch (this.template_visibility) {\n          case 'personal':\n            body['is_personal'] = true;\n            body['is_public'] = false;\n            break;\n          case 'org':\n            body['is_personal'] = false;\n            body['is_public'] = false;\n            break;\n          case 'public & org':\n            body['is_personal'] = false;\n            body['is_public'] = true;\n            break;\n          case 'personal & public':\n            body['is_personal'] = true;\n            body['is_public'] = true;\n          default:\n            break;\n        }\n      }\n      const template: ITemplate = await this.verdocsHeaderService.updateTemplate(this.template.id, body);\n      this.updateVisibility = false;\n      this.isSaving = false;\n  }\n\n  get canShareWithPublic() {\n    if (this.template && typeof (this._canShareWithPublic) !== 'boolean') {\n      this._canShareWithPublic = (this.templateGuard.canPerformAction(TemplateActions.CHANGE_VISIBILITY_PUBLIC, this.template))['canPerform'];\n    }\n    return this._canShareWithPublic\n  }\n\n  get canChangeVisibility() {\n    return this.canMakeItPrivate || this.canShareWithOrg || this.canShareWithPublic\n  }\n\n  get canShareWithOrg() {\n    if (this.template && typeof (this._canShareWithOrg) !== 'boolean') {\n      this._canShareWithOrg = (this.templateGuard.canPerformAction(TemplateActions.CHANGE_VISIBILITY_ORG, this.template))['canPerform'];\n    }\n    return this._canShareWithOrg\n  }\n\n  get canMakeItPrivate() {\n    if (this.template && typeof (this._canMakeItPrivate) !== 'boolean') {\n      this._canMakeItPrivate =\n        (this.templateGuard.canPerformAction(TemplateActions.CHANGE_VISIBILITY_PERSONAL, this.template))['canPerform'];\n    }\n    return this._canMakeItPrivate\n  }\n\n}\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  AfterViewChecked,\n  ViewChild,\n  ElementRef,\n  Compiler,\n  Input,\n  ChangeDetectorRef,\n  Injector,\n  Inject,\n  PLATFORM_ID\n} from '@angular/core';\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\nimport { isPlatformBrowser } from '@angular/common';\nimport { HttpResponse } from '@angular/common/http';\nimport { VerdocsStateService, VerdocsAuthService, VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { findIndex } from 'lodash';\n\nimport { VerdocsHeaderService } from './services/header.service';\nimport { TemplatesGuardService } from './services/templates.guard';\nimport { ITemplate, Envelope, TemplateActions } from './models/verdocs.model';\nimport { connectionConfig, connectionConfigToken } from './header.module';\n\n@Component({\n  selector: 'verdocs-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit, AfterViewChecked, OnDestroy {\n  public pageLoading = true;\n  public connections: connectionConfig;\n  public title: string;\n  public isAuthenticated = false;\n  public headerTitle = 'Envelope';\n  public mode = '';\n  public searchActive = false;\n  public templateName = '';\n  public newTemplateName = null;\n  public saveStatus = '';\n  public notifications: Notification[] = [];\n  public loading = false;\n  public myAccountUrl: string;\n  public termsUrl: string;\n  public privacyUrl: string;\n  public newProfile: any;\n  public organization_id: string;\n  public emailVerified: boolean;\n  public organizationImgSrc: string;\n  public csvBlob: Blob = null;\n  public templateDetailsExpanded = true;\n  public template: ITemplate = null;\n  public isSearching = false;\n  public envelopeResult: Envelope[];\n  public templateResult: ITemplate[];\n  public currentProfile: any = null;\n  public inputFocused: boolean = false;\n  public manageLink: string;\n  public templatesLink: string;\n  public rSecureFrontEnd: string;\n  public rFormFrontEnd: string;\n  public isLiveView = false;\n  public verdocs_url: string;\n  public image_url: string;\n  public isAtOriginalOrigin: boolean;\n  public app_version: string = '';\n  public currentAt: string = ''\n\n  @Input() currentOrigin: 'rForm' | 'rAccount' | 'rSecure';\n\n  @ViewChild('headerContainer', { static: false }) header: ElementRef;\n  @ViewChild('search', { static: false }) searchBar: ElementRef;\n  @ViewChild('templateTitle', { static: false }) templateTitleInput: ElementRef;\n  @ViewChild('previewInput', { static: false }) previewInput: ElementRef;\n  @ViewChild('generalInput', { static: false }) generalInput: ElementRef;\n\n  private sidenavOpen: boolean;\n  private _canStar: boolean = null;\n  private _canCreate: boolean = null;\n  private _canEdit: boolean = null;\n  private _userStarred: boolean = null;\n  private metaDataSubscription = new Subscription();\n  private titleSubscription = new Subscription();\n  private titleInputSubscription = new Subscription();\n  private titleKeyDownSubscription = new Subscription();\n  private templateNameSubscription = new Subscription();\n  private templateSubscription = new Subscription();\n  private saveStatusSubscription = new Subscription();\n  private profileLoadingSubscription = new Subscription();\n  private userDataSubscription = new Subscription();\n  private modeSubscription = new Subscription();\n  private previewInputSubscription = new Subscription();\n  private generalInputSubscription = new Subscription();\n  private navigationEventSubscription = new Subscription();\n  private csvBlobSubscription = new Subscription();\n  private inputTimer: NodeJS.Timeout;\n  private origin: string;\n\n  constructor(\n    private verdocsHeaderService: VerdocsHeaderService,\n    private vTokenStateService: VerdocsStateService,\n    private vTokenObjectService: VerdocsTokenObjectService,\n    private vAuthService: VerdocsAuthService,\n    private templateGuard: TemplatesGuardService,\n    private router: Router,\n    private cdr: ChangeDetectorRef,\n    private compiler: Compiler,\n    private injector: Injector,\n    @Inject(PLATFORM_ID) private platform\n  ) {\n    this.connections = this.injector.get(connectionConfigToken);\n    this.myAccountUrl = this.connections.rAccount_frontend_url + '/rAccount';\n    this.termsUrl = this.connections.rSecure_frontend_url + '/terms';\n    this.privacyUrl = this.connections.rSecure_frontend_url + '/privacy';\n    this.organizationImgSrc = `${this.connections.rAccount_frontend_url}/assets/organization/select-profile.png`;\n    this.verdocs_url = this.connections.rForm_frontend_url;\n    this.manageLink = `${this.verdocs_url}/manage`;\n    this.templatesLink = `${this.verdocs_url}/templates`;\n    this.rSecureFrontEnd = this.connections.rSecure_frontend_url;\n    this.rFormFrontEnd = this.connections.rForm_frontend_url;\n    this.currentOrigin = this.connections.origin;\n    this.currentAt = this.currentOrigin;\n  }\n\n  ngOnInit() {\n    this.templateSubscription = this.verdocsHeaderService.templateSubject.subscribe((template: ITemplate) => {\n      this.template = template;\n      this.updateStar();\n    });\n    if (isPlatformBrowser(this.platform)) {\n      if (window && window.location || this.connections.app_version) {\n        this.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n      }\n      if (this.origin && this.origin.includes('/stage.') || this.origin.includes('/localhost')) {\n        this.app_version = this.connections.app_version;\n      } else {\n        this.app_version = '';\n      }\n    }\n    this.isAuthenticated = this.vAuthService.isAuthenticated();\n    this.emailVerified = this.vTokenStateService.getEmailVerification();\n    this.navigationEventSubscription = this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.isAuthenticated = this.vAuthService.isAuthenticated();\n        if (event && event.url && ((event.url.includes('document/') && !event.url.includes('envelopes/document')) || event.url.includes('view/live/'))) {\n          this.isAtOriginalOrigin = this.verdocsHeaderService.getAtOrigin(this.currentOrigin);\n          this.currentAt = this.currentOrigin;\n          this.mode = 'preview';\n          if (event.url.includes('view/live/')) {\n            this.isLiveView = true;\n            this.templateDetailsExpanded = false;\n          } else {\n            this.isLiveView = false;\n          }\n        } else {\n          this.mode = 'not-preview';\n          this.isLiveView = false;\n        }\n        if (this.mode !== 'preview') {\n          this.image_url = `${this.connections.rForm_frontend_url}/assets/white-logo.svg`;\n        } else {\n          this.image_url = `${this.connections.rForm_frontend_url}/assets/break-black-logo.svg`;\n        }\n        this.getProfile();\n        this.updateStar();\n        this.checkCanStar();\n        this._canEdit = undefined;\n        this._canCreate = undefined;\n        this.pageLoading = false;\n      } else if (event instanceof NavigationStart) {\n        this.pageLoading = true;\n      }\n    });\n    this.titleSubscription = this.verdocsHeaderService.titleSubject.subscribe(title => {\n      if (title) {\n        this.title = title;\n      } else {\n        this.title = null;\n      }\n    });\n    this.csvBlobSubscription = this.verdocsHeaderService.csvBlobSubject.subscribe(blob => {\n      if (blob) {\n        this.csvBlob = blob;\n      } else {\n        this.csvBlob = null;\n      }\n    });\n    this.saveStatusSubscription = this.verdocsHeaderService.saveStatusSubject.subscribe(status => {\n      this.saveStatus = status;\n    });\n    this.profileLoadingSubscription = this.verdocsHeaderService.profileLoadingSubject.subscribe(status => {\n      this.loading = status;\n    });\n  }\n\n  ngAfterViewChecked() {\n    this.cdr.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.metaDataSubscription.unsubscribe();\n    this.titleSubscription.unsubscribe();\n    this.titleInputSubscription.unsubscribe();\n    this.titleKeyDownSubscription.unsubscribe();\n    this.templateNameSubscription.unsubscribe();\n    this.templateSubscription.unsubscribe();\n    this.saveStatusSubscription.unsubscribe();\n    this.profileLoadingSubscription.unsubscribe();\n    this.userDataSubscription.unsubscribe();\n    this.modeSubscription.unsubscribe();\n    if (!!this.generalInputSubscription) {\n      this.generalInputSubscription.unsubscribe();\n    }\n    if (!!this.previewInputSubscription) {\n      this.previewInputSubscription.unsubscribe();\n    }\n    this.navigationEventSubscription.unsubscribe();\n    this.csvBlobSubscription.unsubscribe();\n    this.compiler.clearCache();\n  }\n\n  async init() {\n    if (this.vAuthService.isAuthenticated() && this.mode !== 'view') {\n      await this.verdocsHeaderService.initNotificationService();\n    }\n  }\n\n  get home_url() {\n    return this.vTokenStateService.getIDToken() ? this.connections.rForm_frontend_url + '/dashboard' : this.connections.rForm_frontend_url;\n  }\n\n  previewInputEvent(event) {\n    clearTimeout(this.inputTimer);\n    this.inputTimer = setTimeout(() => {\n      this.getSearchResults(this.previewInput.nativeElement.value);\n      clearTimeout(this.inputTimer);\n    }, 500);\n  }\n\n  generalInputEvent(event) {\n    clearTimeout(this.inputTimer);\n    this.inputTimer = setTimeout(() => {\n      this.getSearchResults(this.generalInput.nativeElement.value);\n      clearTimeout(this.inputTimer);\n    }, 500);\n  }\n\n  prepareSearchInput() {\n    if (this.mode === 'preview') {\n      this.listenForPreviewInput();\n    } else {\n      this.listenForGeneralInput();\n    }\n  }\n\n  listenForPreviewInput() {\n    if (this.generalInputSubscription) {\n      this.generalInputSubscription.unsubscribe();\n    }\n    if (this.previewInput) {\n      if (!this.previewInputSubscription) {\n        this.previewInputSubscription = fromEvent(this.previewInput.nativeElement, 'keyup')\n          .pipe(\n            debounceTime(500),\n            distinctUntilChanged()\n          ).subscribe((event) => {\n            const keyName = event['code'] || event['key'];\n            if (keyName) {\n              if (keyName !== 'Enter' && keyName !== 'ArrowDown' && keyName !== 'ArrowUp') {\n                this.getSearchResults(this.previewInput.nativeElement.value);\n              }\n            } else {\n              this.getSearchResults(this.previewInput.nativeElement.value);\n            }\n          });\n      }\n    }\n  }\n\n  listenForGeneralInput() {\n    if (this.previewInputSubscription) {\n      this.previewInputSubscription.unsubscribe();\n    }\n    if (this.generalInput) {\n      if (!this.generalInputSubscription) {\n        this.generalInputSubscription = fromEvent(this.generalInput.nativeElement, 'keyup')\n          .pipe(\n            debounceTime(500),\n            distinctUntilChanged()\n          ).subscribe((event) => {\n            const keyName = event['code'] || event['key'];\n            if (keyName) {\n              if (keyName !== 'Enter' && keyName !== 'ArrowDown' && keyName !== 'ArrowUp') {\n                this.getSearchResults(this.generalInput.nativeElement.value);\n              }\n            } else {\n              this.getSearchResults(this.generalInput.nativeElement.value);\n            }\n          });\n      }\n    }\n  }\n\n  get canStar() {\n    return this._canStar;\n  }\n\n  get userStarred() {\n    return this._userStarred;\n  }\n\n  get canEdit() {\n    if (typeof (this._canEdit) !== 'boolean' && this.templateGuard && this.isAuthenticated && this.template) {\n      const response = this.templateGuard.canPerformAction(TemplateActions.WRITE, this.template);\n      this._canEdit = response['canPerform']\n    }\n    if (!this.isAuthenticated && this.template) {\n      this._canEdit = false;\n    }\n    return this._canEdit\n  }\n\n  get canCreate() {\n    if (this.isAuthenticated) {\n      if (typeof (this._canCreate) !== 'boolean') {\n        const permissions = this.vTokenObjectService.getVerdocsPermissions();\n        this._canCreate = false;\n        if (permissions && permissions.length > 0) {\n          permissions.forEach(permission => {\n            if (permission.includes('creator:create')) {\n              return this._canCreate = true;\n            }\n          });\n        }\n      }\n      return this._canCreate;\n    } else {\n      return false;\n    }\n  }\n\n  getProfile() {\n    if (this.isAuthenticated) {\n      this.currentProfile = this.vTokenObjectService.getProfile();\n    }\n  }\n\n  selected(event) {\n    if ((this.generalInput && this.generalInput.nativeElement.value) || (this.previewInput && this.previewInput.nativeElement.value)) {\n      event.option._element.nativeElement.click();\n    }\n  }\n\n  checkCanStar() {\n    this._canStar = this.isAuthenticated;\n  }\n\n  getSearchResults(search_string: string) {\n    this.isSearching = true;\n    if (this.isAuthenticated) {\n      this.verdocsHeaderService.searchEnvelopes({ envelope_name: search_string, row: 3 }).subscribe(result => {\n        if (result instanceof HttpResponse) {\n          this.envelopeResult = result.body['result'] as Envelope[];\n          this.verdocsHeaderService.searchTemplates({ name: search_string, row: 3 }).subscribe(result => {\n            if (result instanceof HttpResponse) {\n              this.templateResult = result.body['result'] as ITemplate[];\n              this.isSearching = false;\n            }\n          });\n        }\n      });\n    } else {\n      this.verdocsHeaderService.searchTemplates({ name: search_string, row: 3 }).subscribe(result => {\n        if (result instanceof HttpResponse) {\n          this.templateResult = result.body['result'] as ITemplate[];\n          this.isSearching = false;\n        }\n      });\n    }\n  }\n\n  recipientTracking(index, item) {\n    return index;\n  }\n\n  toggleMenu() {\n    this.verdocsHeaderService.toggleSidenav(!this.sidenavOpen);\n  }\n\n  setInputFocused(value: boolean) {\n    this.inputFocused = value;\n  }\n\n  hasProp(obj: any, key: string) {\n    return obj.hasOwnProperty(key);\n  }\n\n  roleColor(name) {\n    return this.verdocsHeaderService.getRoleColor(name);\n  }\n\n  toggleSidenav() {\n    this.verdocsHeaderService.toggleBuilderSideNav();\n  }\n\n  toggleTemplateDetails() {\n    this.templateDetailsExpanded = !this.templateDetailsExpanded;\n    if (this.templateDetailsExpanded) {\n      this.verdocsHeaderService.templateDetailToggleSubject.next(true);\n    }\n  }\n\n  reset() {\n    this.templateName = 'Unititled';\n    // this.verdocsHeaderService.templateNameSubject.next('Untitled');\n  }\n\n  getRoleNames(roles) {\n    if (roles && roles.length > 0) {\n      const last_index = roles.length - 1;\n      let names_string = '';\n      for (let x = 0; x < roles.length; x++) {\n        if (x < last_index) {\n          names_string += roles[x]['full_name'] + ', ' as string;\n        } else {\n          names_string += roles[x]['full_name'] as string;\n        }\n      }\n      return names_string;\n    }\n  }\n\n  getTemplateStats(template: ITemplate) {\n    return `${this.getTemplatePages(template)}  ${this.getTemplateSequence(template)}  ${this.getTemplateRecipients(template)}`;\n  }\n\n  getTemplatePages(template: ITemplate) {\n    if (template && template.pages) {\n      return `${template.pages.length >= 2 ? template.pages.length + ' Pages' : '1 Page'}`;\n    } else {\n      return '0 Page';\n    }\n  }\n\n  getTemplateSequence(template: ITemplate) {\n    if (template && template.roles) {\n      let hasPreparer = false;\n      let maxSequence = -1;\n      for (let x = 0; x < template.roles.length; x++) {\n        if (template.roles[x].sequence > maxSequence) {\n          maxSequence = template.roles[x].sequence;\n        }\n        if (template.roles[x].sequence === 0) {\n          hasPreparer = true;\n        }\n      }\n\n      const totalSequence = hasPreparer ? maxSequence + 1 : maxSequence;\n      return totalSequence > 1 ? totalSequence + ' Sequences' : '1 Sequence';\n    } else {\n      return '0 Sequence';\n    }\n  }\n\n  getTemplateRecipients(template: ITemplate) {\n    if (template && template.roles) {\n      const totalRecipients = template.roles.length;\n      return totalRecipients > 1 ? totalRecipients + ' Recipients' : '1 Recipient';\n    } else {\n      return '0 Recipient'\n    }\n  }\n\n  goToEnvelope(envelope_id: string) {\n    if (this.currentOrigin === 'rForm' && this.isAtOriginalOrigin) {\n      this.router.navigate([`/envelope/${envelope_id}`]);\n    } else {\n      location.href = `${this.connections.rForm_frontend_url}/envelope/${envelope_id}`;\n    }\n    this.clearSearchInputs();\n  }\n\n  goToTemplate(template: ITemplate) {\n    this.verdocsHeaderService.openTemplate(template);\n    this.clearSearchInputs();\n  }\n\n  goToTemplates(keyword) {\n    this.verdocsHeaderService.openTemplates(keyword);\n  }\n\n  searchEnvelopes() {\n    const keyword = this.getSearchKeyword();\n    if (keyword !== '') {\n      this.router.navigate([`/manage`], { queryParams: { envelope_name: keyword } });\n      this.clearSearchInputs();\n    }\n  }\n\n  searchRecipients() {\n    const keyword = this.getSearchKeyword();\n    if (keyword !== '') {\n      this.router.navigate([`/manage`], { queryParams: { recipient_name: keyword } });\n      this.clearSearchInputs();\n    }\n  }\n\n  searchTemplates() {\n    const keyword = this.getSearchKeyword();\n    if (keyword !== '') {\n      this.router.navigate([`/templates`], { queryParams: { name: keyword } });\n      this.clearSearchInputs();\n    }\n  }\n\n  getSearchKeyword() {\n    if (this.previewInput && this.previewInput.nativeElement.value) {\n      return this.previewInput.nativeElement.value;\n    } else if (this.generalInput && this.generalInput.nativeElement.value) {\n      return this.generalInput.nativeElement.value;\n    }\n    return '';\n  }\n\n  clearSearchInputs() {\n    if (this.previewInput) {\n      this.previewInput.nativeElement.value = '';\n    }\n    if (this.generalInput) {\n      this.generalInput.nativeElement.value = '';\n    }\n    this.envelopeResult = [];\n    this.templateResult = [];\n  }\n\n  updateStar() {\n    if (this.template && this.currentProfile && this.template.template_stars) {\n      const existingStarIndex = findIndex(this.template.template_stars, { profile_id: this.currentProfile.id, template_id: this.template.id });\n      this._userStarred = existingStarIndex > -1;\n    } else {\n      return false;\n    }\n  }\n\n  starTemplate() {\n    if (this.canStar) {\n      this.verdocsHeaderService.starTemplate(this.template.id).subscribe(res => {\n        this.template.template_stars.push(res);\n        this.updateStar();\n      });\n    } else if (!this.isAuthenticated) {\n      this.createTemplate();\n    }\n  }\n\n  unstarTemplate() {\n    if (this.canStar) {\n      this.verdocsHeaderService.unstarTemplate(this.template.id).subscribe(res => {\n        const removedStarIndex = findIndex(this.template.template_stars, { profile_id: this.currentProfile.id, template_id: this.template.id });\n        if (removedStarIndex > -1) {\n          this.template.template_stars.splice(removedStarIndex, 1);\n          this.updateStar();\n        }\n      });\n    } else if (!this.isAuthenticated) {\n      this.createTemplate();\n    }\n  }\n\n  editTemplate() {\n    if (this.canEdit) {\n      this.router.navigate([`/builder/${this.template.id}/fields`]);\n    } else if (!this.isAuthenticated) {\n      this.createTemplate();\n    }\n  }\n\n  createTemplate() {\n    this.verdocsHeaderService.toggleCreate();\n  }\n\n}\n","import { Component, OnInit, OnDestroy, Input, Injector, AfterContentChecked, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { NotificationService, Notification } from '@verdocs/notifications';\nimport { ProfileCollection, OrganizationDialogService, Override as ProfileOverride } from '@verdocs/profiles';\nimport { VerdocsStateService, VerdocsAuthGuardService, VerdocsTokenObjectService } from '@verdocs/tokens';\nimport { Subscription } from 'rxjs';\nimport { findIndex, includes } from 'lodash';\n\nimport { connectionConfig, connectionConfigToken } from '../header.module';\nimport { VerdocsHeaderService } from '../services/header.service';\n\n@Component({\n  selector: 'verdocs-header-tools',\n  templateUrl: './header-tools.component.html',\n  styleUrls: ['./header-tools.component.scss']\n})\nexport class HeaderToolsComponent implements OnInit, AfterContentChecked, OnDestroy {\n  public tokenConfig: connectionConfig;\n  public apps = [];\n  public emailVerified: boolean;\n  public notifications: Notification[] = [];\n  public profiles: ProfileCollection;\n  public newProfile: any;\n  public organization_id: string;\n  public myAccountUrl: string;\n  public rSecureUrl: string;\n  public rFormUrl: string;\n  public termsUrl: string;\n  public privacyUrl: string;\n  public loginUrl: string;\n  public signupUrl: string;\n  public organizationImgSrc: string;\n  public profileLoading = false;\n  public hasProfile = false;\n  public origin: 'rForm' | 'rSecure' | 'rAccount' | null;\n  public isAtOriginalOrigin: boolean;\n  public verdocs_logo_url: string;\n  @Input() public profileOverride: ProfileOverride = {\n    top:56,\n    right: 20\n  };\n  @Input() public sidenav = false;\n  @Input() public type = 'default';\n  @Input() public mode: string;\n  private notificationsSubscription = new Subscription();\n  private profileLoadingSubscription = new Subscription();\n\n  constructor(\n    private verdocsStateService: VerdocsStateService,\n    private verdocsObjectService: VerdocsTokenObjectService,\n    private verdocsAuthGuardService: VerdocsAuthGuardService,\n    private organizationDialogService: OrganizationDialogService,\n    private notificationsService: NotificationService,\n    private verdocsHeaderService: VerdocsHeaderService,\n    private snackbar: MatSnackBar,\n    private injector: Injector,\n    private router: Router,\n    @Inject(PLATFORM_ID) private platform\n  ) { \n    this.tokenConfig = this.injector.get(connectionConfigToken);\n    this.myAccountUrl = this.tokenConfig.rAccount_frontend_url;\n    this.rSecureUrl = this.tokenConfig.rSecure_frontend_url;\n    this.rFormUrl = this.tokenConfig.rForm_frontend_url;\n    this.termsUrl = this.tokenConfig.rSecure_frontend_url + '/terms';\n    this.privacyUrl = this.tokenConfig.rSecure_frontend_url + '/privacy';\n    this.loginUrl = this.tokenConfig.rSecure_frontend_url + '/login';\n    this.signupUrl = this.tokenConfig.rSecure_frontend_url + '/signup';\n    this.organizationImgSrc = `${this.tokenConfig.rAccount_frontend_url}/assets/organization/select-profile.png`;\n    this.verdocs_logo_url = `${this.rFormUrl}/assets/blue-logo.svg`;\n    this.origin = this.tokenConfig.origin;\n    this.isAtOriginalOrigin = this.verdocsHeaderService.getAtOrigin(this.origin);\n  }\n\n  ngOnInit() {\n    this.checkEmailVerification();\n    this.hasProfile = this.verdocsObjectService.getProfile();\n    this.verdocsHeaderService.userProfileSubject.subscribe(profiles => {\n      this.profiles = this.verdocsHeaderService.getProfileCollection(profiles);\n      this.verdocsHeaderService.profilesSubject.next(profiles);\n      const index = findIndex(profiles, { organization_id: this.organization_id });\n      if (index >= 0) {\n        this.newProfile = profiles[index];\n        this.organizationDialogService.setNewProfile(this.newProfile);\n      }\n    });\n    this.notificationsSubscription = this.notificationsService.Notificatations().subscribe(notifications => {\n      this.notifications = notifications;\n    });\n    this.profileLoadingSubscription = this.verdocsHeaderService.profileLoadingSubject.subscribe(status => {\n      this.profileLoading = status;\n    });\n\n    if (!this.profiles && this.hasProfile) {\n      this.verdocsHeaderService.getProfiles();\n    }\n  }\n\n  ngAfterContentChecked() {\n    if (isPlatformBrowser(this.platform)) {\n      if (typeof window !== 'undefined') {\n        if (window.innerWidth > 600) {\n          this.profileOverride.top = 60;\n        } else {\n          this.profileOverride.top = 56;\n        }\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.notificationsSubscription.unsubscribe();\n    this.profileLoadingSubscription.unsubscribe();\n  }\n\n  private checkEmailVerification(): void {\n    this.emailVerified = this.verdocsStateService.getEmailVerification();\n    this.organizationDialogService.setEmailVerified(this.emailVerified);\n  }\n\n  public get admin_url() {\n    if (this.hasAccessToAdmin()) {\n      return `${this.tokenConfig.rAccount_frontend_url}/admin`;\n    }\n    return undefined;\n  }\n\n  removeNotification(notification: Notification) {\n    this.notificationsService.dismissNotification(notification);\n  }\n\n  signOut() {\n    this.verdocsAuthGuardService.signOut();\n  }\n\n  signIn() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/login?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n\n  signUp() {\n    if (window) {\n      window.location.href = `${this.rSecureUrl}/signup?redirect_url=${this.rFormUrl + this.router.url}`;\n    }\n  }\n\n  switch(profile_id: string) {\n    this.verdocsHeaderService.switchProfile(profile_id).then(() => {\n      window.location.href = `${this.tokenConfig.rForm_frontend_url}`;\n    });\n  }\n\n  switchAndGoToAdmin() {\n    if (this.newProfile) {\n      this.verdocsHeaderService.switchProfile(this.newProfile.id).then(profile => {\n        window.location.href = `${this.myAccountUrl}/admin/profile/${this.newProfile.id}`;\n      });\n    }\n  }\n\n  updateTokenStatus(sendMessage?: boolean) {\n    this.createSnackbar('Checking email verification', 'OK');\n    this.verdocsHeaderService.updateTokens(sendMessage).then(() => {\n      this.emailVerified = this.verdocsStateService.getEmailVerification();\n      this.organizationDialogService.setEmailVerified(this.emailVerified);\n    });\n  }\n\n  resendEmailVerification() {\n    this.verdocsHeaderService.resendEmailVerification();\n  }\n\n  checkNameValidity(name: string) {\n    return this.verdocsHeaderService.getNameValidity(name)\n      .then(result => {\n        this.organizationDialogService.setNameValidation(result);\n      });\n  }\n\n  createOrganization(organizationGroup) {\n    this.verdocsHeaderService.createOrganization(organizationGroup)\n      .then(async organization => {\n        this.organization_id = organization['id'];\n        await this.verdocsHeaderService.getAccountData();\n        this.createSnackbar('Organization created', null);\n      });\n  }\n\n  switchProfile() {\n    this.switch(this.newProfile.id);\n  }\n\n  checkAccess(clientName) {\n    return this.verdocsStateService.hasAccessTo(clientName + '_Realster');\n  }\n\n  jumpTo(clientName) {\n    window.location.href = this.tokenConfig[clientName + '_frontend_url'];\n  }\n\n  private hasAccessToAdmin() {\n    const roles = this.verdocsStateService.getRAccountRoles();\n    return includes(roles, 'owner') || includes(roles, 'admin');\n  }\n\n  createSnackbar(message: string, buttonTitle?: string) {\n    if (!buttonTitle) {\n      buttonTitle = null;\n    }\n    let snackbarConfig: MatSnackBarConfig\n    if (window.innerWidth >= 920) {\n      snackbarConfig = {\n        verticalPosition: 'bottom',\n        horizontalPosition: 'left',\n        duration: 5000\n      }\n    } else {\n      snackbarConfig = {\n        verticalPosition: 'top',\n        duration: 5000\n      }\n    }\n    this.snackbar.open(message, buttonTitle, snackbarConfig);\n  }\n\n  lunchElevio() {\n    window['lunchElevio']();\n  }\n\n  lunchIntercom() {\n    window['lunchIntercom']()\n  }\n}\n","import { NgModule, InjectionToken } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport {\n  NotificationsModule\n} from '@verdocs/notifications'\nimport { TokensModule } from '@verdocs/tokens';\nimport { ProfilesModule } from '@verdocs/profiles';\nimport { RecipientEditorComponent } from './template/recipients/recipients-editor.component'\nimport { TemplateSourceComponent } from './template/source-file/source-file.component'\nimport { VisibilityEditorComponent } from './template/visibility/visibility-editor.component'\nimport { HeaderComponent } from './header.component';\nimport { VerdocsHeaderService } from './services/header.service';\nimport { TemplatesGuardService } from './services/templates.guard';\nimport { HeaderToolsComponent } from './components/header-tools.component';\nimport { FourOhOneDialog } from './error-dialogs/four-oh-one.dialog';\n\nexport interface connectionConfig {\n  rForm_backend_url: string;\n  rForm_frontend_url: string;\n  rSecure_frontend_url: string;\n  rSecure_backend_url: string;\n  rAccount_frontend_url: string;\n  rAccount_backend_url: string;\n  rNotification_backend_url: string;\n  origin?: 'rForm' | 'rAccount' | 'rSecure';\n  app_version?: string;\n}\n\nexport const connectionConfigToken = new InjectionToken<connectionConfig>('connectionConfig');\n\n@NgModule({\n  declarations: [\n    HeaderComponent,\n    RecipientEditorComponent,\n    TemplateSourceComponent,\n    VisibilityEditorComponent,\n    HeaderToolsComponent,\n    FourOhOneDialog\n  ],\n  entryComponents: [\n    FourOhOneDialog\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n    RouterModule,\n    ReactiveFormsModule,\n    MatSnackBarModule,\n    MatIconModule,\n    MatAutocompleteModule,\n    MatButtonModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatChipsModule,\n    MatProgressSpinnerModule,\n    MatRadioModule,\n    MatTooltipModule,\n    NotificationsModule,\n    ProfilesModule,\n    TokensModule\n  ],\n  providers: [\n    TemplatesGuardService,\n    VerdocsHeaderService\n  ],\n  exports: [\n    HeaderComponent,\n    RecipientEditorComponent,\n    TemplateSourceComponent,\n    VisibilityEditorComponent,\n    HeaderToolsComponent,\n    FourOhOneDialog\n  ]\n})\nexport class HeaderModule {\n  static initVerdocsHeader(config: connectionConfig) {\n    return {\n      ngModule: HeaderModule,\n      providers: [\n        {\n          provide: connectionConfigToken,\n          useValue: config\n        }\n      ]\n    }\n  }\n}\n"],"names":["intersection","Injectable","VerdocsTokenObjectService","Component","Router","Injector","ReplaySubject","Subject","BehaviorSubject","HttpRequest","map","HttpResponse","isPlatformBrowser","saveAs","filter","tslib_1.__values","catchError","EMPTY","findIndex","profiles","ProfileModel","ProfileCollection","isPlatformServer","HttpHeaders","HttpClient","MatSnackBar","MatDialog","VerdocsStateService","Inject","PLATFORM_ID","Input","Subscription","NavigationEnd","NavigationStart","fromEvent","debounceTime","distinctUntilChanged","VerdocsAuthService","ChangeDetectorRef","Compiler","ViewChild","includes","VerdocsAuthGuardService","OrganizationDialogService","NotificationService","InjectionToken","NgModule","CommonModule","FormsModule","HttpClientModule","RouterModule","ReactiveFormsModule","MatSnackBarModule","MatIconModule","MatAutocompleteModule","MatButtonModule","MatSelectModule","MatDialogModule","MatChipsModule","MatProgressSpinnerModule","MatRadioModule","MatTooltipModule","NotificationsModule","ProfilesModule","TokensModule"],"mappings":"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"}